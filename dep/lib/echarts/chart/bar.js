define("echarts/chart/bar",["require","./base","zrender/shape/Rectangle","../component/axis","../component/grid","../component/dataZoom","../config","../util/ecData","zrender/tool/util","zrender/tool/color","../chart"],function(t){function e(t,e,n,o,a){i.call(this,t,e,n,o,a),this.refresh(o)}var i=t("./base"),n=t("zrender/shape/Rectangle");t("../component/axis"),t("../component/grid"),t("../component/dataZoom");var o=t("../config"),a=t("../util/ecData"),s=t("zrender/tool/util"),r=t("zrender/tool/color");return e.prototype={type:o.CHART_TYPE_BAR,_buildShape:function(){this._buildPosition()},_buildNormal:function(t,e,i,o,a){for(var s,r,l,h,d,m,c,p,u,V,g,U,y=this.series,f=i[0][0],_=y[f],b=_.xAxisIndex,x=_.yAxisIndex,k="horizontal"==a?this.component.xAxis.getAxis(b):this.component.yAxis.getAxis(x),L=this._mapSize(k,i),v=L.gap,w=L.barGap,W=L.barWidthMap,X=L.barMaxWidthMap,I=L.barWidth,S=L.barMinHeightMap,K=L.interval,C=0,T=e;T>C&&null!=k.getNameByIndex(C);C++){"horizontal"==a?h=k.getCoordByIndex(C)-v/2:d=k.getCoordByIndex(C)+v/2;for(var z=0,E=i.length;E>z;z++){x=y[i[z][0]].yAxisIndex||0,b=y[i[z][0]].xAxisIndex||0,s="horizontal"==a?this.component.yAxis.getAxis(x):this.component.xAxis.getAxis(b),c=m=u=p=s.getCoord(0);for(var A=0,M=i[z].length;M>A;A++)f=i[z][A],_=y[f],g=_.data[C],U=this.getDataFromOption(g,"-"),o[f]=o[f]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0},l=Math.min(X[f]||Number.MAX_VALUE,W[f]||I),"-"!==U&&(U>0?(r=A>0?s.getCoordSize(U):"horizontal"==a?c-s.getCoord(U):s.getCoord(U)-c,1===M&&S[f]>r&&(r=S[f]),"horizontal"==a?(m-=r,d=m):(h=m,m+=r)):0>U?(r=A>0?s.getCoordSize(U):"horizontal"==a?s.getCoord(U)-u:u-s.getCoord(U),1===M&&S[f]>r&&(r=S[f]),"horizontal"==a?(d=p,p+=r):(p-=r,h=p)):(r=0,"horizontal"==a?(m-=r,d=m):(h=m,m+=r)),o[f][C]="horizontal"==a?h+l/2:d-l/2,o[f].min>U&&(o[f].min=U,"horizontal"==a?(o[f].minY=d,o[f].minX=o[f][C]):(o[f].minX=h+r,o[f].minY=o[f][C])),o[f].max<U&&(o[f].max=U,"horizontal"==a?(o[f].maxY=d,o[f].maxX=o[f][C]):(o[f].maxX=h+r,o[f].maxY=o[f][C])),o[f].sum+=U,o[f].counter++,C%K===0&&(V=this._getBarItem(f,C,k.getNameByIndex(C),h,d-("horizontal"==a?0:l),"horizontal"==a?l:r,"horizontal"==a?r:l,"horizontal"==a?"vertical":"horizontal"),this.shapeList.push(new n(V))));for(var A=0,M=i[z].length;M>A;A++)f=i[z][A],_=y[f],g=_.data[C],U=this.getDataFromOption(g,"-"),l=Math.min(X[f]||Number.MAX_VALUE,W[f]||I),"-"==U&&this.deepQuery([g,_,this.option],"calculable")&&("horizontal"==a?(m-=this.ecTheme.island.r,d=m):(h=m,m+=this.ecTheme.island.r),V=this._getBarItem(f,C,k.getNameByIndex(C),h+.5,d+.5-("horizontal"==a?0:l),("horizontal"==a?l:this.ecTheme.island.r)-1,("horizontal"==a?this.ecTheme.island.r:l)-1,"horizontal"==a?"vertical":"horizontal"),V.hoverable=!1,V.draggable=!1,V.style.lineWidth=1,V.style.brushType="stroke",V.style.strokeColor=_.calculableHolderColor||this.ecTheme.calculableHolderColor,this.shapeList.push(new n(V)));"horizontal"==a?h+=l+w:d-=l+w}}this._calculMarkMapXY(o,i,"horizontal"==a?"y":"x")},_buildHorizontal:function(t,e,i,n){return this._buildNormal(t,e,i,n,"horizontal")},_buildVertical:function(t,e,i,n){return this._buildNormal(t,e,i,n,"vertical")},_buildOther:function(t,e,i,o){for(var a=this.series,s=0,r=i.length;r>s;s++)for(var l=0,h=i[s].length;h>l;l++){var d=i[s][l],m=a[d],c=m.xAxisIndex||0,p=this.component.xAxis.getAxis(c),u=p.getCoord(0),V=m.yAxisIndex||0,g=this.component.yAxis.getAxis(V),U=g.getCoord(0);o[d]=o[d]||{min0:Number.POSITIVE_INFINITY,min1:Number.POSITIVE_INFINITY,max0:Number.NEGATIVE_INFINITY,max1:Number.NEGATIVE_INFINITY,sum0:0,sum1:0,counter0:0,counter1:0,average0:0,average1:0};for(var y=0,f=m.data.length;f>y;y++){var _=m.data[y],b=this.getDataFromOption(_,"-");if(b instanceof Array){var x,k,L=p.getCoord(b[0]),v=g.getCoord(b[1]),w=[_,m],W=this.deepQuery(w,"barWidth")||10,X=this.deepQuery(w,"barHeight");null!=X?(x="horizontal",b[0]>0?(W=L-u,L-=W):W=b[0]<0?u-L:0,k=this._getBarItem(d,y,b[0],L,v-X/2,W,X,x)):(x="vertical",b[1]>0?X=U-v:b[1]<0?(X=v-U,v-=X):X=0,k=this._getBarItem(d,y,b[0],L-W/2,v,W,X,x)),this.shapeList.push(new n(k)),L=p.getCoord(b[0]),v=g.getCoord(b[1]),o[d].min0>b[0]&&(o[d].min0=b[0],o[d].minY0=v,o[d].minX0=L),o[d].max0<b[0]&&(o[d].max0=b[0],o[d].maxY0=v,o[d].maxX0=L),o[d].sum0+=b[0],o[d].counter0++,o[d].min1>b[1]&&(o[d].min1=b[1],o[d].minY1=v,o[d].minX1=L),o[d].max1<b[1]&&(o[d].max1=b[1],o[d].maxY1=v,o[d].maxX1=L),o[d].sum1+=b[1],o[d].counter1++}}}this._calculMarkMapXY(o,i,"xy")},_mapSize:function(t,e,i){var n,o,a=this._findSpecialBarSzie(e,i),s=a.barWidthMap,r=a.barMaxWidthMap,l=a.barMinHeightMap,h=a.sBarWidthCounter,d=a.sBarWidthTotal,m=a.barGap,c=a.barCategoryGap,p=1;if(e.length!=h){if(i)n=t.getGap(),m=0,o=(n/e.length).toFixed(2)-0,0>=o&&(p=Math.floor(e.length/n),o=1);else if(n="string"==typeof c&&c.match(/%$/)?(t.getGap()*(100-parseFloat(c))/100).toFixed(2)-0:t.getGap()-c,"string"==typeof m&&m.match(/%$/)?(m=parseFloat(m)/100,o=((n-d)/((e.length-1)*m+e.length-h)).toFixed(2)-0,m=o*m):(m=parseFloat(m),o=((n-d-m*(e.length-1))/(e.length-h)).toFixed(2)-0),0>=o)return this._mapSize(t,e,!0)}else if(n=h>1?"string"==typeof c&&c.match(/%$/)?(t.getGap()*(100-parseFloat(c))/100).toFixed(2)-0:t.getGap()-c:d,o=0,m=h>1?((n-d)/(h-1)).toFixed(2)-0:0,0>m)return this._mapSize(t,e,!0);return this._recheckBarMaxWidth(e,s,r,l,n,o,m,p)},_findSpecialBarSzie:function(t,e){for(var i,n,o,a,s=this.series,r={},l={},h={},d=0,m=0,c=0,p=t.length;p>c;c++)for(var u={barWidth:!1,barMaxWidth:!1},V=0,g=t[c].length;g>V;V++){var U=t[c][V],y=s[U];if(!e){if(u.barWidth)r[U]=i;else if(i=this.query(y,"barWidth"),null!=i){r[U]=i,m+=i,d++,u.barWidth=!0;for(var f=0,_=V;_>f;f++){var b=t[c][f];r[b]=i}}if(u.barMaxWidth)l[U]=n;else if(n=this.query(y,"barMaxWidth"),null!=n){l[U]=n,u.barMaxWidth=!0;for(var f=0,_=V;_>f;f++){var b=t[c][f];l[b]=n}}}h[U]=this.query(y,"barMinHeight"),o=null!=o?o:this.query(y,"barGap"),a=null!=a?a:this.query(y,"barCategoryGap")}return{barWidthMap:r,barMaxWidthMap:l,barMinHeightMap:h,sBarWidth:i,sBarMaxWidth:n,sBarWidthCounter:d,sBarWidthTotal:m,barGap:o,barCategoryGap:a}},_recheckBarMaxWidth:function(t,e,i,n,o,a,s,r){for(var l=0,h=t.length;h>l;l++){var d=t[l][0];i[d]&&i[d]<a&&(o-=a-i[d])}return{barWidthMap:e,barMaxWidthMap:i,barMinHeightMap:n,gap:o,barWidth:a,barGap:s,interval:r}},_getBarItem:function(t,e,i,n,o,s,l,h){var d,m=this.series,c=m[t],p=c.data[e],u=this._sIndex2ColorMap[t],V=[p,c],g=this.deepQuery(V,"itemStyle.normal.color")||u,U=this.deepQuery(V,"itemStyle.emphasis.color"),y=this.deepMerge(V,"itemStyle.normal"),f=y.barBorderWidth,_=this.deepMerge(V,"itemStyle.emphasis");if(d={zlevel:this.getZlevelBase(),z:this.getZBase(),clickable:this.deepQuery(V,"clickable"),style:{x:n,y:o,width:s,height:l,brushType:"both",color:this.getItemStyleColor(g,t,e,p),radius:y.barBorderRadius,lineWidth:f,strokeColor:y.barBorderColor},highlightStyle:{color:this.getItemStyleColor(U,t,e,p),radius:_.barBorderRadius,lineWidth:_.barBorderWidth,strokeColor:_.barBorderColor},_orient:h},d.highlightStyle.color=d.highlightStyle.color||("string"==typeof d.style.color?r.lift(d.style.color,-.3):d.style.color),d.style.x=Math.floor(d.style.x),d.style.y=Math.floor(d.style.y),d.style.height=Math.ceil(d.style.height),d.style.width=Math.ceil(d.style.width),f>0&&d.style.height>f&&d.style.width>f?(d.style.y+=f/2,d.style.height-=f,d.style.x+=f/2,d.style.width-=f):d.style.brushType="fill",d.highlightStyle.textColor=d.highlightStyle.color,d=this.addLabel(d,c,p,i,h),"insideLeft"===d.style.textPosition||"insideRight"===d.style.textPosition||"insideTop"===d.style.textPosition||"insideBottom"===d.style.textPosition){var b=5;switch(d.style.textPosition){case"insideLeft":d.style.textX=d.style.x+b,d.style.textY=d.style.y+d.style.height/2,d.style.textAlign="left",d.style.textBaseline="middle";break;case"insideRight":d.style.textX=d.style.x+d.style.width-b,d.style.textY=d.style.y+d.style.height/2,d.style.textAlign="right",d.style.textBaseline="middle";break;case"insideTop":d.style.textX=d.style.x+d.style.width/2,d.style.textY=d.style.y+b/2,d.style.textAlign="center",d.style.textBaseline="top";break;case"insideBottom":d.style.textX=d.style.x+d.style.width/2,d.style.textY=d.style.y+d.style.height-b/2,d.style.textAlign="center",d.style.textBaseline="bottom"}d.style.textPosition="specific",d.style.textColor=d.style.textColor||"#fff"}return this.deepQuery([p,c,this.option],"calculable")&&(this.setCalculable(d),d.draggable=!0),a.pack(d,m[t],t,m[t].data[e],e,i),d},getMarkCoord:function(t,e){var i,n,o=this.series[t],a=this.xMarkMap[t],s=this.component.xAxis.getAxis(o.xAxisIndex),r=this.component.yAxis.getAxis(o.yAxisIndex);if(!e.type||"max"!==e.type&&"min"!==e.type&&"average"!==e.type)if(a.isHorizontal){i="string"==typeof e.xAxis&&s.getIndexByName?s.getIndexByName(e.xAxis):e.xAxis||0;var l=a[i];l=null!=l?l:"string"!=typeof e.xAxis&&s.getCoordByIndex?s.getCoordByIndex(e.xAxis||0):s.getCoord(e.xAxis||0),n=[l,r.getCoord(e.yAxis||0)]}else{i="string"==typeof e.yAxis&&r.getIndexByName?r.getIndexByName(e.yAxis):e.yAxis||0;var h=a[i];h=null!=h?h:"string"!=typeof e.yAxis&&r.getCoordByIndex?r.getCoordByIndex(e.yAxis||0):r.getCoord(e.yAxis||0),n=[s.getCoord(e.xAxis||0),h]}else{var d=null!=e.valueIndex?e.valueIndex:null!=a.maxX0?"1":"";n=[a[e.type+"X"+d],a[e.type+"Y"+d],a[e.type+"Line"+d],a[e.type+d]]}return n},refresh:function(t){t&&(this.option=t,this.series=t.series),this.backupShapeList(),this._buildShape()},addDataAnimation:function(t){for(var e=this.series,i={},n=0,o=t.length;o>n;n++)i[t[n][0]]=t[n];for(var s,r,l,h,d,m,c,n=this.shapeList.length-1;n>=0;n--)if(m=a.get(this.shapeList[n],"seriesIndex"),i[m]&&!i[m][3]&&"rectangle"===this.shapeList[n].type){if(c=a.get(this.shapeList[n],"dataIndex"),d=e[m],i[m][2]&&c===d.data.length-1){this.zr.delShape(this.shapeList[n].id);continue}if(!i[m][2]&&0===c){this.zr.delShape(this.shapeList[n].id);continue}"horizontal"===this.shapeList[n]._orient?(h=this.component.yAxis.getAxis(d.yAxisIndex||0).getGap(),l=i[m][2]?-h:h,s=0):(r=this.component.xAxis.getAxis(d.xAxisIndex||0).getGap(),s=i[m][2]?r:-r,l=0),this.shapeList[n].position=[0,0],this.zr.animate(this.shapeList[n].id,"").when(this.query(this.option,"animationDurationUpdate"),{position:[s,l]}).start()}}},s.inherits(e,i),t("../chart").define("bar",e),e}),define("echarts/component/axis",["require","./base","zrender/shape/Line","../config","../util/ecData","zrender/tool/util","zrender/tool/color","./categoryAxis","./valueAxis","../component"],function(t){function e(t,e,n,o,a,s){i.call(this,t,e,n,o,a),this.axisType=s,this._axisList=[],this.refresh(o)}var i=t("./base"),n=t("zrender/shape/Line"),o=t("../config"),a=t("../util/ecData"),s=t("zrender/tool/util"),r=t("zrender/tool/color");return e.prototype={type:o.COMPONENT_TYPE_AXIS,axisBase:{_buildAxisLine:function(){var t=this.option.axisLine.lineStyle.width,e=t/2,i={_axisShape:"axisLine",zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1};switch(this.option.position){case"left":i.style={xStart:this.grid.getX()-e,yStart:this.grid.getYend(),xEnd:this.grid.getX()-e,yEnd:this.grid.getY(),lineCap:"round"};break;case"right":i.style={xStart:this.grid.getXend()+e,yStart:this.grid.getYend(),xEnd:this.grid.getXend()+e,yEnd:this.grid.getY(),lineCap:"round"};break;case"bottom":i.style={xStart:this.grid.getX(),yStart:this.grid.getYend()+e,xEnd:this.grid.getXend(),yEnd:this.grid.getYend()+e,lineCap:"round"};break;case"top":i.style={xStart:this.grid.getX(),yStart:this.grid.getY()-e,xEnd:this.grid.getXend(),yEnd:this.grid.getY()-e,lineCap:"round"}}""!==this.option.name&&(i.style.text=this.option.name,i.style.textPosition=this.option.nameLocation,i.style.textFont=this.getFont(this.option.nameTextStyle),this.option.nameTextStyle.align&&(i.style.textAlign=this.option.nameTextStyle.align),this.option.nameTextStyle.baseline&&(i.style.textBaseline=this.option.nameTextStyle.baseline),this.option.nameTextStyle.color&&(i.style.textColor=this.option.nameTextStyle.color)),i.style.strokeColor=this.option.axisLine.lineStyle.color,i.style.lineWidth=t,this.isHorizontal()?i.style.yStart=i.style.yEnd=this.subPixelOptimize(i.style.yEnd,t):i.style.xStart=i.style.xEnd=this.subPixelOptimize(i.style.xEnd,t),i.style.lineType=this.option.axisLine.lineStyle.type,i=new n(i),this.shapeList.push(i)},_axisLabelClickable:function(t,e){return t?(a.pack(e,void 0,-1,void 0,-1,e.style.text),e.hoverable=!0,e.clickable=!0,e.highlightStyle={color:r.lift(e.style.color,1),brushType:"fill"},e):e},refixAxisShape:function(t,e){if(this.option.axisLine.onZero){var i;if(this.isHorizontal()&&null!=e)for(var n=0,o=this.shapeList.length;o>n;n++)"axisLine"===this.shapeList[n]._axisShape?(this.shapeList[n].style.yStart=this.shapeList[n].style.yEnd=this.subPixelOptimize(e,this.shapeList[n].stylelineWidth),this.zr.modShape(this.shapeList[n].id)):"axisTick"===this.shapeList[n]._axisShape&&(i=this.shapeList[n].style.yEnd-this.shapeList[n].style.yStart,this.shapeList[n].style.yStart=e-i,this.shapeList[n].style.yEnd=e,this.zr.modShape(this.shapeList[n].id));if(!this.isHorizontal()&&null!=t)for(var n=0,o=this.shapeList.length;o>n;n++)"axisLine"===this.shapeList[n]._axisShape?(this.shapeList[n].style.xStart=this.shapeList[n].style.xEnd=this.subPixelOptimize(t,this.shapeList[n].stylelineWidth),this.zr.modShape(this.shapeList[n].id)):"axisTick"===this.shapeList[n]._axisShape&&(i=this.shapeList[n].style.xEnd-this.shapeList[n].style.xStart,this.shapeList[n].style.xStart=t,this.shapeList[n].style.xEnd=t+i,this.zr.modShape(this.shapeList[n].id))}},getPosition:function(){return this.option.position},isHorizontal:function(){return"bottom"===this.option.position||"top"===this.option.position}},reformOption:function(t){if(!t||t instanceof Array&&0===t.length?t=[{type:o.COMPONENT_TYPE_AXIS_VALUE}]:t instanceof Array||(t=[t]),t.length>2&&(t=[t[0],t[1]]),"xAxis"===this.axisType){(!t[0].position||"bottom"!=t[0].position&&"top"!=t[0].position)&&(t[0].position="bottom"),t.length>1&&(t[1].position="bottom"===t[0].position?"top":"bottom");for(var e=0,i=t.length;i>e;e++)t[e].type=t[e].type||"category",t[e].xAxisIndex=e,t[e].yAxisIndex=-1}else{(!t[0].position||"left"!=t[0].position&&"right"!=t[0].position)&&(t[0].position="left"),t.length>1&&(t[1].position="left"===t[0].position?"right":"left");for(var e=0,i=t.length;i>e;e++)t[e].type=t[e].type||"value",t[e].xAxisIndex=-1,t[e].yAxisIndex=e}return t},refresh:function(e){var i;e&&(this.option=e,"xAxis"===this.axisType?(this.option.xAxis=this.reformOption(e.xAxis),i=this.option.xAxis):(this.option.yAxis=this.reformOption(e.yAxis),i=this.option.yAxis),this.series=e.series);for(var n=t("./categoryAxis"),o=t("./valueAxis"),a=Math.max(i&&i.length||0,this._axisList.length),s=0;a>s;s++)!this._axisList[s]||!e||i[s]&&this._axisList[s].type==i[s].type||(this._axisList[s].dispose&&this._axisList[s].dispose(),this._axisList[s]=!1),this._axisList[s]?this._axisList[s].refresh&&this._axisList[s].refresh(i?i[s]:!1,this.series):i&&i[s]&&(this._axisList[s]="category"===i[s].type?new n(this.ecTheme,this.messageCenter,this.zr,i[s],this.myChart,this.axisBase):new o(this.ecTheme,this.messageCenter,this.zr,i[s],this.myChart,this.axisBase,this.series))},getAxis:function(t){return this._axisList[t]},clear:function(){for(var t=0,e=this._axisList.length;e>t;t++)this._axisList[t].dispose&&this._axisList[t].dispose();this._axisList=[]}},s.inherits(e,i),t("../component").define("axis",e),e}),define("echarts/component/grid",["require","./base","zrender/shape/Rectangle","../config","zrender/tool/util","../component"],function(t){function e(t,e,n,o,a){i.call(this,t,e,n,o,a),this.refresh(o)}var i=t("./base"),n=t("zrender/shape/Rectangle"),o=t("../config"),a=t("zrender/tool/util");return e.prototype={type:o.COMPONENT_TYPE_GRID,getX:function(){return this._x},getY:function(){return this._y},getWidth:function(){return this._width},getHeight:function(){return this._height},getXend:function(){return this._x+this._width},getYend:function(){return this._y+this._height},getArea:function(){return{x:this._x,y:this._y,width:this._width,height:this._height}},getBbox:function(){return[[this._x,this._y],[this.getXend(),this.getYend()]]},refixAxisShape:function(t){for(var e,i,n,a=t.xAxis._axisList.concat(t.yAxis?t.yAxis._axisList:[]),s=a.length;s--;)n=a[s],n.type==o.COMPONENT_TYPE_AXIS_VALUE&&n._min<0&&n._max>=0&&(n.isHorizontal()?e=n.getCoord(0):i=n.getCoord(0));if("undefined"!=typeof e||"undefined"!=typeof i)for(s=a.length;s--;)a[s].refixAxisShape(e,i)},refresh:function(t){if(t||this._zrWidth!=this.zr.getWidth()||this._zrHeight!=this.zr.getHeight()){this.clear(),this.option=t||this.option,this.option.grid=this.reformOption(this.option.grid);var e=this.option.grid;this._zrWidth=this.zr.getWidth(),this._zrHeight=this.zr.getHeight(),this._x=this.parsePercent(e.x,this._zrWidth),this._y=this.parsePercent(e.y,this._zrHeight);var i=this.parsePercent(e.x2,this._zrWidth),o=this.parsePercent(e.y2,this._zrHeight);this._width="undefined"==typeof e.width?this._zrWidth-this._x-i:this.parsePercent(e.width,this._zrWidth),this._width=this._width<=0?10:this._width,this._height="undefined"==typeof e.height?this._zrHeight-this._y-o:this.parsePercent(e.height,this._zrHeight),this._height=this._height<=0?10:this._height,this._x=this.subPixelOptimize(this._x,e.borderWidth),this._y=this.subPixelOptimize(this._y,e.borderWidth),this.shapeList.push(new n({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._x,y:this._y,width:this._width,height:this._height,brushType:e.borderWidth>0?"both":"fill",color:e.backgroundColor,strokeColor:e.borderColor,lineWidth:e.borderWidth}})),this.zr.addShape(this.shapeList[0])}}},a.inherits(e,i),t("../component").define("grid",e),e}),define("echarts/component/dataZoom",["require","./base","zrender/shape/Rectangle","zrender/shape/Polygon","../util/shape/Icon","../config","../util/date","zrender/tool/util","../component"],function(t){function e(t,e,n,o,a){i.call(this,t,e,n,o,a);var s=this;s._ondrift=function(t,e){return s.__ondrift(this,t,e)},s._ondragend=function(){return s.__ondragend()},this._fillerSize=28,this._isSilence=!1,this._zoom={},this.option.dataZoom=this.reformOption(this.option.dataZoom),this.zoomOption=this.option.dataZoom,this._handleSize=this.zoomOption.handleSize,this.myChart.canvasSupported||(this.zoomOption.realtime=!1),this._location=this._getLocation(),this._zoom=this._getZoom(),this._backupData(),this.option.dataZoom.show&&this._buildShape(),this._syncData()}var i=t("./base"),n=t("zrender/shape/Rectangle"),o=t("zrender/shape/Polygon"),a=t("../util/shape/Icon"),s=t("../config"),r=t("../util/date"),l=t("zrender/tool/util");return e.prototype={type:s.COMPONENT_TYPE_DATAZOOM,_buildShape:function(){this._buildBackground(),this._buildFiller(),this._buildHandle(),this._buildFrame();for(var t=0,e=this.shapeList.length;e>t;t++)this.zr.addShape(this.shapeList[t]);this._syncFrameShape()},_getLocation:function(){var t,e,i,n,o=this.component.grid;return"horizontal"==this.zoomOption.orient?(i=this.zoomOption.width||o.getWidth(),n=this.zoomOption.height||this._fillerSize,t=null!=this.zoomOption.x?this.zoomOption.x:o.getX(),e=null!=this.zoomOption.y?this.zoomOption.y:this.zr.getHeight()-n-2):(i=this.zoomOption.width||this._fillerSize,n=this.zoomOption.height||o.getHeight(),t=null!=this.zoomOption.x?this.zoomOption.x:2,e=null!=this.zoomOption.y?this.zoomOption.y:o.getY()),{x:t,y:e,width:i,height:n}},_getZoom:function(){var t=this.option.series,e=this.option.xAxis;!e||e instanceof Array||(e=[e],this.option.xAxis=e);var i=this.option.yAxis;!i||i instanceof Array||(i=[i],this.option.yAxis=i);var n,o,a=[],r=this.zoomOption.xAxisIndex;if(e&&null==r){n=[];for(var l=0,h=e.length;h>l;l++)("category"==e[l].type||null==e[l].type)&&n.push(l)}else n=r instanceof Array?r:null!=r?[r]:[];if(r=this.zoomOption.yAxisIndex,i&&null==r){o=[];for(var l=0,h=i.length;h>l;l++)"category"==i[l].type&&o.push(l)}else o=r instanceof Array?r:null!=r?[r]:[];for(var d,l=0,h=t.length;h>l;l++)if(d=t[l],d.type==s.CHART_TYPE_LINE||d.type==s.CHART_TYPE_BAR||d.type==s.CHART_TYPE_SCATTER||d.type==s.CHART_TYPE_K){for(var m=0,c=n.length;c>m;m++)if(n[m]==(d.xAxisIndex||0)){a.push(l);break}for(var m=0,c=o.length;c>m;m++)if(o[m]==(d.yAxisIndex||0)){a.push(l);break}null==this.zoomOption.xAxisIndex&&null==this.zoomOption.yAxisIndex&&d.data&&this.getDataFromOption(d.data[0])instanceof Array&&(d.type==s.CHART_TYPE_SCATTER||d.type==s.CHART_TYPE_LINE||d.type==s.CHART_TYPE_BAR)&&a.push(l)}var p=null!=this._zoom.start?this._zoom.start:null!=this.zoomOption.start?this.zoomOption.start:0,u=null!=this._zoom.end?this._zoom.end:null!=this.zoomOption.end?this.zoomOption.end:100;p>u&&(p+=u,u=p-u,p-=u);var V=Math.round((u-p)/100*("horizontal"==this.zoomOption.orient?this._location.width:this._location.height));return{start:p,end:u,start2:0,end2:100,size:V,xAxisIndex:n,yAxisIndex:o,seriesIndex:a,scatterMap:this._zoom.scatterMap||{}}},_backupData:function(){this._originalData={xAxis:{},yAxis:{},series:{}};for(var t=this.option.xAxis,e=this._zoom.xAxisIndex,i=0,n=e.length;n>i;i++)this._originalData.xAxis[e[i]]=t[e[i]].data;for(var o=this.option.yAxis,a=this._zoom.yAxisIndex,i=0,n=a.length;n>i;i++)this._originalData.yAxis[a[i]]=o[a[i]].data;for(var r,l=this.option.series,h=this._zoom.seriesIndex,i=0,n=h.length;n>i;i++)r=l[h[i]],this._originalData.series[h[i]]=r.data,r.data&&this.getDataFromOption(r.data[0])instanceof Array&&(r.type==s.CHART_TYPE_SCATTER||r.type==s.CHART_TYPE_LINE||r.type==s.CHART_TYPE_BAR)&&(this._backupScale(),this._calculScatterMap(h[i]))},_calculScatterMap:function(e){this._zoom.scatterMap=this._zoom.scatterMap||{},this._zoom.scatterMap[e]=this._zoom.scatterMap[e]||{};var i=t("../component"),n=i.get("axis"),o=l.clone(this.option.xAxis);"category"==o[0].type&&(o[0].type="value"),o[1]&&"category"==o[1].type&&(o[1].type="value");var a=new n(this.ecTheme,null,!1,{xAxis:o,series:this.option.series},this,"xAxis"),s=this.option.series[e].xAxisIndex||0;this._zoom.scatterMap[e].x=a.getAxis(s).getExtremum(),a.dispose(),o=l.clone(this.option.yAxis),"category"==o[0].type&&(o[0].type="value"),o[1]&&"category"==o[1].type&&(o[1].type="value"),a=new n(this.ecTheme,null,!1,{yAxis:o,series:this.option.series},this,"yAxis"),s=this.option.series[e].yAxisIndex||0,this._zoom.scatterMap[e].y=a.getAxis(s).getExtremum(),a.dispose()},_buildBackground:function(){var t=this._location.width,e=this._location.height;this.shapeList.push(new n({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._location.x,y:this._location.y,width:t,height:e,color:this.zoomOption.backgroundColor}}));for(var i=0,a=this._originalData.xAxis,r=this._zoom.xAxisIndex,l=0,h=r.length;h>l;l++)i=Math.max(i,a[r[l]].length);for(var d=this._originalData.yAxis,m=this._zoom.yAxisIndex,l=0,h=m.length;h>l;l++)i=Math.max(i,d[m[l]].length);for(var c,p=this._zoom.seriesIndex[0],u=this._originalData.series[p],V=Number.MIN_VALUE,g=Number.MAX_VALUE,l=0,h=u.length;h>l;l++)c=this.getDataFromOption(u[l],0),this.option.series[p].type==s.CHART_TYPE_K&&(c=c[1]),isNaN(c)&&(c=0),V=Math.max(V,c),g=Math.min(g,c);var U=V-g,y=[],f=t/(i-(i>1?1:0)),_=e/(i-(i>1?1:0)),b=1;"horizontal"==this.zoomOption.orient&&1>f?b=Math.floor(3*i/t):"vertical"==this.zoomOption.orient&&1>_&&(b=Math.floor(3*i/e));for(var l=0,h=i;h>l;l+=b)c=this.getDataFromOption(u[l],0),this.option.series[p].type==s.CHART_TYPE_K&&(c=c[1]),isNaN(c)&&(c=0),y.push("horizontal"==this.zoomOption.orient?[this._location.x+f*l,this._location.y+e-1-Math.round((c-g)/U*(e-10))]:[this._location.x+1+Math.round((c-g)/U*(t-10)),this._location.y+_*l]);"horizontal"==this.zoomOption.orient?(y.push([this._location.x+t,this._location.y+e]),y.push([this._location.x,this._location.y+e])):(y.push([this._location.x,this._location.y+e]),y.push([this._location.x,this._location.y])),this.shapeList.push(new o({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{pointList:y,color:this.zoomOption.dataBackgroundColor},hoverable:!1}))},_buildFiller:function(){this._fillerShae={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:!0,ondrift:this._ondrift,ondragend:this._ondragend,_type:"filler"},this._fillerShae.style="horizontal"==this.zoomOption.orient?{x:this._location.x+Math.round(this._zoom.start/100*this._location.width)+this._handleSize,y:this._location.y,width:this._zoom.size-2*this._handleSize,height:this._location.height,color:this.zoomOption.fillerColor,text:":::",textPosition:"inside"}:{x:this._location.x,y:this._location.y+Math.round(this._zoom.start/100*this._location.height)+this._handleSize,width:this._location.width,height:this._zoom.size-2*this._handleSize,color:this.zoomOption.fillerColor,text:"::",textPosition:"inside"},this._fillerShae.highlightStyle={brushType:"fill",color:"rgba(0,0,0,0)"},this._fillerShae=new n(this._fillerShae),this.shapeList.push(this._fillerShae)},_buildHandle:function(){var t=this.zoomOption.showDetail?this._getDetail():{start:"",end:""};this._startShape={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:!0,style:{iconType:"rectangle",x:this._location.x,y:this._location.y,width:this._handleSize,height:this._handleSize,color:this.zoomOption.handleColor,text:"=",textPosition:"inside"},highlightStyle:{text:t.start,brushType:"fill",textPosition:"left"},ondrift:this._ondrift,ondragend:this._ondragend},"horizontal"==this.zoomOption.orient?(this._startShape.style.height=this._location.height,this._endShape=l.clone(this._startShape),this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endShape.highlightStyle.text=t.end,this._endShape.highlightStyle.textPosition="right"):(this._startShape.style.width=this._location.width,this._endShape=l.clone(this._startShape),this._startShape.style.y=this._fillerShae.style.y-this._handleSize,this._startShape.highlightStyle.textPosition="top",this._endShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._endShape.highlightStyle.text=t.end,this._endShape.highlightStyle.textPosition="bottom"),this._startShape=new a(this._startShape),this._endShape=new a(this._endShape),this.shapeList.push(this._startShape),this.shapeList.push(this._endShape)},_buildFrame:function(){var t=this.subPixelOptimize(this._location.x,1),e=this.subPixelOptimize(this._location.y,1);this._startFrameShape={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:t,y:e,width:this._location.width-(t>this._location.x?1:0),height:this._location.height-(e>this._location.y?1:0),lineWidth:1,brushType:"stroke",strokeColor:this.zoomOption.handleColor}},this._endFrameShape=l.clone(this._startFrameShape),this._startFrameShape=new n(this._startFrameShape),this._endFrameShape=new n(this._endFrameShape),this.shapeList.push(this._startFrameShape),this.shapeList.push(this._endFrameShape)},_syncHandleShape:function(){"horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._zoom.start=(this._startShape.style.x-this._location.x)/this._location.width*100,this._zoom.end=(this._endShape.style.x+this._handleSize-this._location.x)/this._location.width*100):(this._startShape.style.y=this._fillerShae.style.y-this._handleSize,this._endShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._zoom.start=(this._startShape.style.y-this._location.y)/this._location.height*100,this._zoom.end=(this._endShape.style.y+this._handleSize-this._location.y)/this._location.height*100),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this._syncFrameShape(),this.zr.refresh()},_syncFillerShape:function(){var t,e;"horizontal"==this.zoomOption.orient?(t=this._startShape.style.x,e=this._endShape.style.x,this._fillerShae.style.x=Math.min(t,e)+this._handleSize,this._fillerShae.style.width=Math.abs(t-e)-this._handleSize,this._zoom.start=(Math.min(t,e)-this._location.x)/this._location.width*100,this._zoom.end=(Math.max(t,e)+this._handleSize-this._location.x)/this._location.width*100):(t=this._startShape.style.y,e=this._endShape.style.y,this._fillerShae.style.y=Math.min(t,e)+this._handleSize,this._fillerShae.style.height=Math.abs(t-e)-this._handleSize,this._zoom.start=(Math.min(t,e)-this._location.y)/this._location.height*100,this._zoom.end=(Math.max(t,e)+this._handleSize-this._location.y)/this._location.height*100),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refresh()},_syncFrameShape:function(){"horizontal"==this.zoomOption.orient?(this._startFrameShape.style.width=this._fillerShae.style.x-this._location.x,this._endFrameShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endFrameShape.style.width=this._location.x+this._location.width-this._endFrameShape.style.x):(this._startFrameShape.style.height=this._fillerShae.style.y-this._location.y,this._endFrameShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._endFrameShape.style.height=this._location.y+this._location.height-this._endFrameShape.style.y),this.zr.modShape(this._startFrameShape.id),this.zr.modShape(this._endFrameShape.id)},_syncShape:function(){this.zoomOption.show&&("horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._location.x+this._zoom.start/100*this._location.width,this._endShape.style.x=this._location.x+this._zoom.end/100*this._location.width-this._handleSize,this._fillerShae.style.x=this._startShape.style.x+this._handleSize,this._fillerShae.style.width=this._endShape.style.x-this._startShape.style.x-this._handleSize):(this._startShape.style.y=this._location.y+this._zoom.start/100*this._location.height,this._endShape.style.y=this._location.y+this._zoom.end/100*this._location.height-this._handleSize,this._fillerShae.style.y=this._startShape.style.y+this._handleSize,this._fillerShae.style.height=this._endShape.style.y-this._startShape.style.y-this._handleSize),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refresh())},_syncData:function(t){var e,i,n,o,a;for(var r in this._originalData){e=this._originalData[r];for(var l in e)a=e[l],null!=a&&(o=a.length,i=Math.floor(this._zoom.start/100*o),n=Math.ceil(this._zoom.end/100*o),this.getDataFromOption(a[0])instanceof Array&&this.option[r][l].type!=s.CHART_TYPE_K?(this._setScale(),this.option[r][l].data=this._synScatterData(l,a)):this.option[r][l].data=a.slice(i,n))}this._isSilence||!this.zoomOption.realtime&&!t||this.messageCenter.dispatch(s.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)},_synScatterData:function(t,e){if(0===this._zoom.start&&100==this._zoom.end&&0===this._zoom.start2&&100==this._zoom.end2)return e;var i,n,o,a,s,r=[],l=this._zoom.scatterMap[t];"horizontal"==this.zoomOption.orient?(i=l.x.max-l.x.min,n=this._zoom.start/100*i+l.x.min,o=this._zoom.end/100*i+l.x.min,i=l.y.max-l.y.min,a=this._zoom.start2/100*i+l.y.min,s=this._zoom.end2/100*i+l.y.min):(i=l.x.max-l.x.min,n=this._zoom.start2/100*i+l.x.min,o=this._zoom.end2/100*i+l.x.min,i=l.y.max-l.y.min,a=this._zoom.start/100*i+l.y.min,s=this._zoom.end/100*i+l.y.min);for(var h,d=0,m=e.length;m>d;d++)h=e[d].value||e[d],h[0]>=n&&h[0]<=o&&h[1]>=a&&h[1]<=s&&r.push(e[d]);return r},_setScale:function(){var t=0!==this._zoom.start||100!==this._zoom.end||0!==this._zoom.start2||100!==this._zoom.end2,e={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var i in e)for(var n=0,o=e[i].length;o>n;n++)e[i][n].scale=t||e[i][n]._scale},_backupScale:function(){var t={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var e in t)for(var i=0,n=t[e].length;n>i;i++)t[e][i]._scale=t[e][i].scale},_getDetail:function(){var t="horizontal"==this.zoomOption.orient?"xAxis":"yAxis",e=this._originalData[t];for(var i in e){var n=e[i];if(null!=n){var o=n.length,a=Math.floor(this._zoom.start/100*o),s=Math.ceil(this._zoom.end/100*o);return s-=s>0?1:0,{start:this.getDataFromOption(n[a]),end:this.getDataFromOption(n[s])}}}var l=this._zoom.seriesIndex[0],h=this.option.series[l][t+"Index"]||0,d=this.option[t][h].type,m=this._zoom.scatterMap[l][t.charAt(0)].min,c=this._zoom.scatterMap[l][t.charAt(0)].max,p=c-m;
if("value"==d)return{start:m+p*this._zoom.start/100,end:m+p*this._zoom.end/100};if("time"==d){c=m+p*this._zoom.end/100,m+=p*this._zoom.start/100;var u=r.getAutoFormatter(m,c).formatter;return{start:r.format(u,m),end:r.format(u,c)}}return{start:"",end:""}},__ondrift:function(t,e,i){this.zoomOption.zoomLock&&(t=this._fillerShae);var n="filler"==t._type?this._handleSize:0;if("horizontal"==this.zoomOption.orient?t.style.x+e-n<=this._location.x?t.style.x=this._location.x+n:t.style.x+e+t.style.width+n>=this._location.x+this._location.width?t.style.x=this._location.x+this._location.width-t.style.width-n:t.style.x+=e:t.style.y+i-n<=this._location.y?t.style.y=this._location.y+n:t.style.y+i+t.style.height+n>=this._location.y+this._location.height?t.style.y=this._location.y+this._location.height-t.style.height-n:t.style.y+=i,"filler"==t._type?this._syncHandleShape():this._syncFillerShape(),this.zoomOption.realtime&&this._syncData(),this.zoomOption.showDetail){var o=this._getDetail();this._startShape.style.text=this._startShape.highlightStyle.text=o.start,this._endShape.style.text=this._endShape.highlightStyle.text=o.end,this._startShape.style.textPosition=this._startShape.highlightStyle.textPosition,this._endShape.style.textPosition=this._endShape.highlightStyle.textPosition}return!0},__ondragend:function(){this.zoomOption.showDetail&&(this._startShape.style.text=this._endShape.style.text="=",this._startShape.style.textPosition=this._endShape.style.textPosition="inside",this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.refreshNextFrame()),this.isDragend=!0},ondragend:function(t,e){this.isDragend&&t.target&&(!this.zoomOption.realtime&&this._syncData(),e.dragOut=!0,e.dragIn=!0,this._isSilence||this.zoomOption.realtime||this.messageCenter.dispatch(s.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart),e.needRefresh=!1,this.isDragend=!1)},ondataZoom:function(t,e){e.needRefresh=!0},absoluteZoom:function(t){this._zoom.start=t.start,this._zoom.end=t.end,this._zoom.start2=t.start2,this._zoom.end2=t.end2,this._syncShape(),this._syncData(!0)},rectZoom:function(t){if(!t)return this._zoom.start=this._zoom.start2=0,this._zoom.end=this._zoom.end2=100,this._syncShape(),this._syncData(!0),this._zoom;var e=this.component.grid.getArea(),i={x:t.x,y:t.y,width:t.width,height:t.height};if(i.width<0&&(i.x+=i.width,i.width=-i.width),i.height<0&&(i.y+=i.height,i.height=-i.height),i.x>e.x+e.width||i.y>e.y+e.height)return!1;i.x<e.x&&(i.x=e.x),i.x+i.width>e.x+e.width&&(i.width=e.x+e.width-i.x),i.y+i.height>e.y+e.height&&(i.height=e.y+e.height-i.y);var n,o=(i.x-e.x)/e.width,a=1-(i.x+i.width-e.x)/e.width,s=1-(i.y+i.height-e.y)/e.height,r=(i.y-e.y)/e.height;return"horizontal"==this.zoomOption.orient?(n=this._zoom.end-this._zoom.start,this._zoom.start+=n*o,this._zoom.end-=n*a,n=this._zoom.end2-this._zoom.start2,this._zoom.start2+=n*s,this._zoom.end2-=n*r):(n=this._zoom.end-this._zoom.start,this._zoom.start+=n*s,this._zoom.end-=n*r,n=this._zoom.end2-this._zoom.start2,this._zoom.start2+=n*o,this._zoom.end2-=n*a),this._syncShape(),this._syncData(!0),this._zoom},syncBackupData:function(t){for(var e,i,n=this._originalData.series,o=t.series,a=0,s=o.length;s>a;a++){i=o[a].data||o[a].eventList,e=n[a]?Math.floor(this._zoom.start/100*n[a].length):0;for(var r=0,l=i.length;l>r;r++)n[a]&&(n[a][r+e]=i[r])}},syncOption:function(t){this.silence(!0),this.option=t,this.option.dataZoom=this.reformOption(this.option.dataZoom),this.zoomOption=this.option.dataZoom,this.myChart.canvasSupported||(this.zoomOption.realtime=!1),this.clear(),this._location=this._getLocation(),this._zoom=this._getZoom(),this._backupData(),this.option.dataZoom&&this.option.dataZoom.show&&this._buildShape(),this._syncData(),this.silence(!1)},silence:function(t){this._isSilence=t},getRealDataIndex:function(t,e){if(!this._originalData||0===this._zoom.start&&100==this._zoom.end)return e;var i=this._originalData.series;return i[t]?Math.floor(this._zoom.start/100*i[t].length)+e:-1},resize:function(){this.clear(),this._location=this._getLocation(),this._zoom=this._getZoom(),this.option.dataZoom.show&&this._buildShape()}},l.inherits(e,i),t("../component").define("dataZoom",e),e}),define("echarts/component/categoryAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","../component"],function(t){function e(t,e,n,o,a,s){if(o.data.length<1)return void console.error("option.data.length < 1.");i.call(this,t,e,n,o,a),this.grid=this.component.grid;for(var r in s)this[r]=s[r];this.refresh(o)}var i=t("./base"),n=t("zrender/shape/Text"),o=t("zrender/shape/Line"),a=t("zrender/shape/Rectangle"),s=t("../config"),r=t("zrender/tool/util"),l=t("zrender/tool/area");return e.prototype={type:s.COMPONENT_TYPE_AXIS_CATEGORY,_getReformedLabel:function(t){var e=this.getDataFromOption(this.option.data[t]),i=this.option.data[t].formatter||this.option.axisLabel.formatter;return i&&("function"==typeof i?e=i.call(this.myChart,e):"string"==typeof i&&(e=i.replace("{value}",e))),e},_getInterval:function(){var t=this.option.axisLabel.interval;if("auto"==t){var e=this.option.axisLabel.textStyle.fontSize,i=this.option.data,n=this.option.data.length;if(this.isHorizontal())if(n>3){var o,a,s=this.getGap(),h=!1,d=Math.floor(.5/s);for(d=1>d?1:d,t=Math.floor(15/s);!h&&n>t;){t+=d,h=!0,o=Math.floor(s*t);for(var m=Math.floor((n-1)/t)*t;m>=0;m-=t){if(0!==this.option.axisLabel.rotate)a=e;else if(i[m].textStyle)a=l.getTextWidth(this._getReformedLabel(m),this.getFont(r.merge(i[m].textStyle,this.option.axisLabel.textStyle)));else{var c=this._getReformedLabel(m)+"",p=(c.match(/\w/g)||"").length,u=c.length-p;a=p*e*2/3+u*e}if(a>o){h=!1;break}}}}else t=1;else if(n>3){var s=this.getGap();for(t=Math.floor(11/s);e>s*t-6&&n>t;)t++}else t=1}else t="function"==typeof t?1:t-0+1;return t},_buildShape:function(){if(this._interval=this._getInterval(),this.option.show){this.option.splitArea.show&&this._buildSplitArea(),this.option.splitLine.show&&this._buildSplitLine(),this.option.axisLine.show&&this._buildAxisLine(),this.option.axisTick.show&&this._buildAxisTick(),this.option.axisLabel.show&&this._buildAxisLabel();for(var t=0,e=this.shapeList.length;e>t;t++)this.zr.addShape(this.shapeList[t])}},_buildAxisTick:function(){var t,e=this.option.data,i=this.option.data.length,n=this.option.axisTick,a=n.length,s=n.lineStyle.color,r=n.lineStyle.width,l="function"==typeof n.interval?n.interval:"auto"==n.interval&&"function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,h=l?1:"auto"==n.interval?this._interval:n.interval-0+1,d=n.onGap,m=d?this.getGap()/2:"undefined"==typeof d&&this.option.boundaryGap?this.getGap()/2:0,c=m>0?-h:0;if(this.isHorizontal())for(var p,u="bottom"==this.option.position?n.inside?this.grid.getYend()-a-1:this.grid.getYend()+1:n.inside?this.grid.getY()+1:this.grid.getY()-a-1,V=c;i>V;V+=h)(!l||l(V,e[V]))&&(p=this.subPixelOptimize(this.getCoordByIndex(V)+(V>=0?m:0),r),t={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:p,yStart:u,xEnd:p,yEnd:u+a,strokeColor:s,lineWidth:r}},this.shapeList.push(new o(t)));else for(var g,U="left"==this.option.position?n.inside?this.grid.getX()+1:this.grid.getX()-a-1:n.inside?this.grid.getXend()-a-1:this.grid.getXend()+1,V=c;i>V;V+=h)(!l||l(V,e[V]))&&(g=this.subPixelOptimize(this.getCoordByIndex(V)-(V>=0?m:0),r),t={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:U,yStart:g,xEnd:U+a,yEnd:g,strokeColor:s,lineWidth:r}},this.shapeList.push(new o(t)))},_buildAxisLabel:function(){var t,e,i=this.option.data,o=this.option.data.length,a=this.option.axisLabel,s=a.rotate,l=a.margin,h=a.clickable,d=a.textStyle,m="function"==typeof a.interval?a.interval:!1;if(this.isHorizontal()){var c,p;"bottom"==this.option.position?(c=this.grid.getYend()+l,p="top"):(c=this.grid.getY()-l,p="bottom");for(var u=0;o>u;u+=this._interval)m&&!m(u,i[u])||""===this._getReformedLabel(u)||(e=r.merge(i[u].textStyle||{},d),t={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:this.getCoordByIndex(u),y:c,color:e.color,text:this._getReformedLabel(u),textFont:this.getFont(e),textAlign:e.align||"center",textBaseline:e.baseline||p}},s&&(t.style.textAlign=s>0?"bottom"==this.option.position?"right":"left":"bottom"==this.option.position?"left":"right",t.rotation=[s*Math.PI/180,t.style.x,t.style.y]),this.shapeList.push(new n(this._axisLabelClickable(h,t))))}else{var V,g;"left"==this.option.position?(V=this.grid.getX()-l,g="right"):(V=this.grid.getXend()+l,g="left");for(var u=0;o>u;u+=this._interval)m&&!m(u,i[u])||""===this._getReformedLabel(u)||(e=r.merge(i[u].textStyle||{},d),t={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:V,y:this.getCoordByIndex(u),color:e.color,text:this._getReformedLabel(u),textFont:this.getFont(e),textAlign:e.align||g,textBaseline:e.baseline||0===u&&""!==this.option.name?"bottom":u==o-1&&""!==this.option.name?"top":"middle"}},s&&(t.rotation=[s*Math.PI/180,t.style.x,t.style.y]),this.shapeList.push(new n(this._axisLabelClickable(h,t))))}},_buildSplitLine:function(){var t,e=this.option.data,i=this.option.data.length,n=this.option.splitLine,a=n.lineStyle.type,s=n.lineStyle.width,r=n.lineStyle.color;r=r instanceof Array?r:[r];var l=r.length,h="function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,d=n.onGap,m=d?this.getGap()/2:"undefined"==typeof d&&this.option.boundaryGap?this.getGap()/2:0;if(i-=d||"undefined"==typeof d&&this.option.boundaryGap?1:0,this.isHorizontal())for(var c,p=this.grid.getY(),u=this.grid.getYend(),V=0;i>V;V+=this._interval)(!h||h(V,e[V]))&&(c=this.subPixelOptimize(this.getCoordByIndex(V)+m,s),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:c,yStart:p,xEnd:c,yEnd:u,strokeColor:r[V/this._interval%l],lineType:a,lineWidth:s}},this.shapeList.push(new o(t)));else for(var g,U=this.grid.getX(),y=this.grid.getXend(),V=0;i>V;V+=this._interval)(!h||h(V,e[V]))&&(g=this.subPixelOptimize(this.getCoordByIndex(V)-m,s),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:U,yStart:g,xEnd:y,yEnd:g,strokeColor:r[V/this._interval%l],lineType:a,lineWidth:s}},this.shapeList.push(new o(t)))},_buildSplitArea:function(){var t,e=this.option.data,i=this.option.splitArea,n=i.areaStyle.color;if(n instanceof Array){var o=n.length,s=this.option.data.length,r="function"==typeof this.option.axisLabel.interval?this.option.axisLabel.interval:!1,l=i.onGap,h=l?this.getGap()/2:"undefined"==typeof l&&this.option.boundaryGap?this.getGap()/2:0;if(this.isHorizontal())for(var d,m=this.grid.getY(),c=this.grid.getHeight(),p=this.grid.getX(),u=0;s>=u;u+=this._interval)r&&!r(u,e[u])&&s>u||(d=s>u?this.getCoordByIndex(u)+h:this.grid.getXend(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:p,y:m,width:d-p,height:c,color:n[u/this._interval%o]}},this.shapeList.push(new a(t)),p=d);else for(var V,g=this.grid.getX(),U=this.grid.getWidth(),y=this.grid.getYend(),u=0;s>=u;u+=this._interval)r&&!r(u,e[u])&&s>u||(V=s>u?this.getCoordByIndex(u)-h:this.grid.getY(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:g,y:V,width:U,height:y-V,color:n[u/this._interval%o]}},this.shapeList.push(new a(t)),y=V)}else t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:n}},this.shapeList.push(new a(t))},refresh:function(t){t&&(this.option=this.reformOption(t),this.option.axisLabel.textStyle=r.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle)),this.clear(),this._buildShape()},getGap:function(){var t=this.option.data.length,e=this.isHorizontal()?this.grid.getWidth():this.grid.getHeight();return this.option.boundaryGap?e/t:e/(t>1?t-1:1)},getCoord:function(t){for(var e=this.option.data,i=e.length,n=this.getGap(),o=this.option.boundaryGap?n/2:0,a=0;i>a;a++){if(this.getDataFromOption(e[a])==t)return o=this.isHorizontal()?this.grid.getX()+o:this.grid.getYend()-o;o+=n}},getCoordByIndex:function(t){if(0>t)return this.isHorizontal()?this.grid.getX():this.grid.getYend();if(t>this.option.data.length-1)return this.isHorizontal()?this.grid.getXend():this.grid.getY();var e=this.getGap(),i=this.option.boundaryGap?e/2:0;return i+=t*e,i=this.isHorizontal()?this.grid.getX()+i:this.grid.getYend()-i},getNameByIndex:function(t){return this.getDataFromOption(this.option.data[t])},getIndexByName:function(t){for(var e=this.option.data,i=e.length,n=0;i>n;n++)if(this.getDataFromOption(e[n])==t)return n;return-1},getValueFromCoord:function(){return""},isMainAxis:function(t){return t%this._interval===0}},r.inherits(e,i),t("../component").define("categoryAxis",e),e}),define("echarts/component/valueAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/date","zrender/tool/util","../util/smartSteps","../util/accMath","../component"],function(t){function e(t,e,n,o,a,s,r){if(!r||0===r.length)return void console.err("option.series.length == 0.");i.call(this,t,e,n,o,a),this.series=r,this.grid=this.component.grid;for(var l in s)this[l]=s[l];this.refresh(o,r)}var i=t("./base"),n=t("zrender/shape/Text"),o=t("zrender/shape/Line"),a=t("zrender/shape/Rectangle"),s=t("../config"),r=t("../util/date"),l=t("zrender/tool/util");return e.prototype={type:s.COMPONENT_TYPE_AXIS_VALUE,_buildShape:function(){if(this._hasData=!1,this._calculateValue(),this._hasData&&this.option.show){this.option.splitArea.show&&this._buildSplitArea(),this.option.splitLine.show&&this._buildSplitLine(),this.option.axisLine.show&&this._buildAxisLine(),this.option.axisTick.show&&this._buildAxisTick(),this.option.axisLabel.show&&this._buildAxisLabel();for(var t=0,e=this.shapeList.length;e>t;t++)this.zr.addShape(this.shapeList[t])}},_buildAxisTick:function(){var t,e=this._valueList,i=this._valueList.length,n=this.option.axisTick,a=n.length,s=n.lineStyle.color,r=n.lineStyle.width;if(this.isHorizontal())for(var l,h="bottom"===this.option.position?n.inside?this.grid.getYend()-a-1:this.grid.getYend()+1:n.inside?this.grid.getY()+1:this.grid.getY()-a-1,d=0;i>d;d++)l=this.subPixelOptimize(this.getCoord(e[d]),r),t={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:l,yStart:h,xEnd:l,yEnd:h+a,strokeColor:s,lineWidth:r}},this.shapeList.push(new o(t));else for(var m,c="left"===this.option.position?n.inside?this.grid.getX()+1:this.grid.getX()-a-1:n.inside?this.grid.getXend()-a-1:this.grid.getXend()+1,d=0;i>d;d++)m=this.subPixelOptimize(this.getCoord(e[d]),r),t={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:c,yStart:m,xEnd:c+a,yEnd:m,strokeColor:s,lineWidth:r}},this.shapeList.push(new o(t))},_buildAxisLabel:function(){var t,e=this._valueList,i=this._valueList.length,o=this.option.axisLabel.rotate,a=this.option.axisLabel.margin,s=this.option.axisLabel.clickable,r=this.option.axisLabel.textStyle;if(this.isHorizontal()){var l,h;"bottom"===this.option.position?(l=this.grid.getYend()+a,h="top"):(l=this.grid.getY()-a,h="bottom");for(var d=0;i>d;d++)t={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:this.getCoord(e[d]),y:l,color:"function"==typeof r.color?r.color(e[d]):r.color,text:this._valueLabel[d],textFont:this.getFont(r),textAlign:r.align||"center",textBaseline:r.baseline||h}},o&&(t.style.textAlign=o>0?"bottom"===this.option.position?"right":"left":"bottom"===this.option.position?"left":"right",t.rotation=[o*Math.PI/180,t.style.x,t.style.y]),this.shapeList.push(new n(this._axisLabelClickable(s,t)))}else{var m,c;"left"===this.option.position?(m=this.grid.getX()-a,c="right"):(m=this.grid.getXend()+a,c="left");for(var d=0;i>d;d++)t={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:m,y:this.getCoord(e[d]),color:"function"==typeof r.color?r.color(e[d]):r.color,text:this._valueLabel[d],textFont:this.getFont(r),textAlign:r.align||c,textBaseline:r.baseline||(0===d&&""!==this.option.name?"bottom":d===i-1&&""!==this.option.name?"top":"middle")}},o&&(t.rotation=[o*Math.PI/180,t.style.x,t.style.y]),this.shapeList.push(new n(this._axisLabelClickable(s,t)))}},_buildSplitLine:function(){var t,e=this._valueList,i=this._valueList.length,n=this.option.splitLine,a=n.lineStyle.type,s=n.lineStyle.width,r=n.lineStyle.color;r=r instanceof Array?r:[r];var l=r.length;if(this.isHorizontal())for(var h,d=this.grid.getY(),m=this.grid.getYend(),c=0;i>c;c++)h=this.subPixelOptimize(this.getCoord(e[c]),s),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:h,yStart:d,xEnd:h,yEnd:m,strokeColor:r[c%l],lineType:a,lineWidth:s}},this.shapeList.push(new o(t));else for(var p,u=this.grid.getX(),V=this.grid.getXend(),c=0;i>c;c++)p=this.subPixelOptimize(this.getCoord(e[c]),s),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:u,yStart:p,xEnd:V,yEnd:p,strokeColor:r[c%l],lineType:a,lineWidth:s}},this.shapeList.push(new o(t))},_buildSplitArea:function(){var t,e=this.option.splitArea.areaStyle.color;if(e instanceof Array){var i=e.length,n=this._valueList,o=this._valueList.length;if(this.isHorizontal())for(var s,r=this.grid.getY(),l=this.grid.getHeight(),h=this.grid.getX(),d=0;o>=d;d++)s=o>d?this.getCoord(n[d]):this.grid.getXend(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:h,y:r,width:s-h,height:l,color:e[d%i]}},this.shapeList.push(new a(t)),h=s;else for(var m,c=this.grid.getX(),p=this.grid.getWidth(),u=this.grid.getYend(),d=0;o>=d;d++)m=o>d?this.getCoord(n[d]):this.grid.getY(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:c,y:m,width:p,height:u-m,color:e[d%i]}},this.shapeList.push(new a(t)),u=m}else t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:e}},this.shapeList.push(new a(t))},_calculateValue:function(){if(isNaN(this.option.min-0)||isNaN(this.option.max-0)){for(var t,e,i={},n=this.component.legend,o=0,a=this.series.length;a>o;o++)!(this.series[o].type!=s.CHART_TYPE_LINE&&this.series[o].type!=s.CHART_TYPE_BAR&&this.series[o].type!=s.CHART_TYPE_SCATTER&&this.series[o].type!=s.CHART_TYPE_K&&this.series[o].type!=s.CHART_TYPE_EVENTRIVER||n&&!n.isSelected(this.series[o].name)||(t=this.series[o].xAxisIndex||0,e=this.series[o].yAxisIndex||0,this.option.xAxisIndex!=t&&this.option.yAxisIndex!=e||!this._calculSum(i,o)));var r;for(var o in i){r=i[o];for(var l=0,h=r.length;h>l;l++)if(!isNaN(r[l])){this._hasData=!0,this._min=r[l],this._max=r[l];break}if(this._hasData)break}for(var o in i){r=i[o];for(var l=0,h=r.length;h>l;l++)isNaN(r[l])||(this._min=Math.min(this._min,r[l]),this._max=Math.max(this._max,r[l]))}var d=Math.abs(this._max-this._min);this._min=isNaN(this.option.min-0)?this._min-Math.abs(d*this.option.boundaryGap[0]):this.option.min-0,this._max=isNaN(this.option.max-0)?this._max+Math.abs(d*this.option.boundaryGap[1]):this.option.max-0,this._min===this._max&&(0===this._max?this._max=1:this._max>0?this._min=this._max/this.option.splitNumber!=null?this.option.splitNumber:5:this._max=this._max/this.option.splitNumber!=null?this.option.splitNumber:5),"time"!=this.option.type?this._reformValue(this.option.scale):this._reformTimeValue()}else this._hasData=!0,this._min=this.option.min-0,this._max=this.option.max-0,"time"!=this.option.type?this._customerValue():this._reformTimeValue()},_calculSum:function(t,e){var i,n,o=this.series[e].name||"kener";if(this.series[e].stack){var a="__Magic_Key_Positive__"+this.series[e].stack,l="__Magic_Key_Negative__"+this.series[e].stack;t[a]=t[a]||[],t[l]=t[l]||[],t[o]=t[o]||[],n=this.series[e].data;for(var h=0,d=n.length;d>h;h++)i=this.getDataFromOption(n[h]),"-"!==i&&(i-=0,i>=0?null!=t[a][h]?t[a][h]+=i:t[a][h]=i:null!=t[l][h]?t[l][h]+=i:t[l][h]=i,this.option.scale&&t[o].push(i))}else if(t[o]=t[o]||[],this.series[e].type!=s.CHART_TYPE_EVENTRIVER){n=this.series[e].data;for(var h=0,d=n.length;d>h;h++)i=this.getDataFromOption(n[h]),this.series[e].type===s.CHART_TYPE_K?(t[o].push(i[0]),t[o].push(i[1]),t[o].push(i[2]),t[o].push(i[3])):i instanceof Array?(-1!=this.option.xAxisIndex&&t[o].push("time"!=this.option.type?i[0]:r.getNewDate(i[0])),-1!=this.option.yAxisIndex&&t[o].push("time"!=this.option.type?i[1]:r.getNewDate(i[1]))):t[o].push(i)}else{n=this.series[e].eventList;for(var h=0,d=n.length;d>h;h++)for(var m=n[h].evolution,c=0,p=m.length;p>c;c++)t[o].push(r.getNewDate(m[c].time))}},_reformValue:function(e){var i=t("../util/smartSteps"),n=this.option.splitNumber;!e&&this._min>=0&&this._max>=0&&(this._min=0),!e&&this._min<=0&&this._max<=0&&(this._max=0);var o=i(this._min,this._max,n);n=null!=n?n:o.secs,this._min=o.min,this._max=o.max,this._valueList=o.pnts,this._reformLabelData()},_reformTimeValue:function(){var t=null!=this.option.splitNumber?this.option.splitNumber:5,e=r.getAutoFormatter(this._min,this._max,t),i=e.formatter,n=e.gapValue;this._valueList=[r.getNewDate(this._min)];var o;switch(i){case"week":o=r.nextMonday(this._min);break;case"month":o=r.nextNthOnMonth(this._min,1);break;case"quarter":o=r.nextNthOnQuarterYear(this._min,1);break;case"half-year":o=r.nextNthOnHalfYear(this._min,1);break;case"year":o=r.nextNthOnYear(this._min,1);break;default:72e5>=n?o=(Math.floor(this._min/n)+1)*n:(o=r.getNewDate(this._min- -n),o.setHours(6*Math.round(o.getHours()/6)),o.setMinutes(0),o.setSeconds(0))}for(o-this._min<n/2&&(o-=-n),e=r.getNewDate(o),t*=1.5;t-->=0&&(("month"==i||"quarter"==i||"half-year"==i||"year"==i)&&e.setDate(1),!(this._max-e<n/2));)this._valueList.push(e),e=r.getNewDate(e- -n);this._valueList.push(r.getNewDate(this._max)),this._reformLabelData(i)},_customerValue:function(){var e=t("../util/accMath"),i=null!=this.option.splitNumber?this.option.splitNumber:5,n=(this._max-this._min)/i;this._valueList=[];for(var o=0;i>=o;o++)this._valueList.push(e.accAdd(this._min,e.accMul(n,o)));this._reformLabelData()},_reformLabelData:function(t){this._valueLabel=[];var e=this.option.axisLabel.formatter;if(e)for(var i=0,n=this._valueList.length;n>i;i++)"function"==typeof e?this._valueLabel.push(t?e.call(this.myChart,this._valueList[i],t):e.call(this.myChart,this._valueList[i])):"string"==typeof e&&this._valueLabel.push(t?r.format(e,this._valueList[i]):e.replace("{value}",this._valueList[i]));else if(t)for(var i=0,n=this._valueList.length;n>i;i++)this._valueLabel.push(r.format(t,this._valueList[i]));else for(var i=0,n=this._valueList.length;n>i;i++)this._valueLabel.push(this.numAddCommas(this._valueList[i]))},getExtremum:function(){return this._calculateValue(),{min:this._min,max:this._max}},refresh:function(t,e){t&&(this.option=this.reformOption(t),this.option.axisLabel.textStyle=l.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle),this.series=e),this.zr&&(this.clear(),this._buildShape())},getCoord:function(t){t=t<this._min?this._min:t,t=t>this._max?this._max:t;var e;return e=this.isHorizontal()?this.grid.getX()+(t-this._min)/(this._max-this._min)*this.grid.getWidth():this.grid.getYend()-(t-this._min)/(this._max-this._min)*this.grid.getHeight()},getCoordSize:function(t){return Math.abs(this.isHorizontal()?t/(this._max-this._min)*this.grid.getWidth():t/(this._max-this._min)*this.grid.getHeight())},getValueFromCoord:function(t){var e;return this.isHorizontal()?(t=t<this.grid.getX()?this.grid.getX():t,t=t>this.grid.getXend()?this.grid.getXend():t,e=this._min+(t-this.grid.getX())/this.grid.getWidth()*(this._max-this._min)):(t=t<this.grid.getY()?this.grid.getY():t,t=t>this.grid.getYend()?this.grid.getYend():t,e=this._max-(t-this.grid.getY())/this.grid.getHeight()*(this._max-this._min)),e.toFixed(2)-0},isMaindAxis:function(t){for(var e=0,i=this._valueList.length;i>e;e++)if(this._valueList[e]===t)return!0;return!1}},l.inherits(e,i),t("../component").define("valueAxis",e),e}),define("echarts/util/date",[],function(){function t(t,e,i){i=i>1?i:2;for(var n,o,a,s,r=0,l=d.length;l>r;r++)if(n=d[r].value,o=Math.ceil(e/n)*n-Math.floor(t/n)*n,Math.round(o/n)<=1.2*i){a=d[r].formatter,s=d[r].value;break}return null==a&&(a="year",n=317088e5,o=Math.ceil(e/n)*n-Math.floor(t/n)*n,s=Math.round(o/(i-1)/n)*n),{formatter:a,gapValue:s}}function e(t){return 10>t?"0"+t:t}function i(t,i){("week"==t||"month"==t||"quarter"==t||"half-year"==t||"year"==t)&&(t="MM - dd\nyyyy");var n=h(i),o=n.getFullYear(),a=n.getMonth()+1,s=n.getDate(),r=n.getHours(),l=n.getMinutes(),d=n.getSeconds();return t=t.replace("MM",e(a)),t=t.toLowerCase(),t=t.replace("yyyy",o),t=t.replace("yy",o%100),t=t.replace("dd",e(s)),t=t.replace("d",s),t=t.replace("hh",e(r)),t=t.replace("h",r),t=t.replace("mm",e(l)),t=t.replace("m",l),t=t.replace("ss",e(d)),t=t.replace("s",d)}function n(t){return t=h(t),t.setDate(t.getDate()+8-t.getDay()),t}function o(t,e,i){return t=h(t),t.setMonth(Math.ceil((t.getMonth()+1)/i)*i),t.setDate(e),t}function a(t,e){return o(t,e,1)}function s(t,e){return o(t,e,3)}function r(t,e){return o(t,e,6)}function l(t,e){return o(t,e,12)}function h(t){return t instanceof Date?t:new Date("string"==typeof t?t.replace(/-/g,"/"):t)}var d=[{formatter:"hh : mm : ss",value:1e3},{formatter:"hh : mm : ss",value:5e3},{formatter:"hh : mm : ss",value:1e4},{formatter:"hh : mm : ss",value:15e3},{formatter:"hh : mm : ss",value:3e4},{formatter:"hh : mm\nMM - dd",value:6e4},{formatter:"hh : mm\nMM - dd",value:3e5},{formatter:"hh : mm\nMM - dd",value:6e5},{formatter:"hh : mm\nMM - dd",value:9e5},{formatter:"hh : mm\nMM - dd",value:18e5},{formatter:"hh : mm\nMM - dd",value:36e5},{formatter:"hh : mm\nMM - dd",value:72e5},{formatter:"hh : mm\nMM - dd",value:216e5},{formatter:"hh : mm\nMM - dd",value:432e5},{formatter:"MM - dd\nyyyy",value:864e5},{formatter:"week",value:6048e5},{formatter:"month",value:26784e5},{formatter:"quarter",value:8208e6},{formatter:"half-year",value:16416e6},{formatter:"year",value:32832e6}];return{getAutoFormatter:t,getNewDate:h,format:i,nextMonday:n,nextNthPerNmonth:o,nextNthOnMonth:a,nextNthOnQuarterYear:s,nextNthOnHalfYear:r,nextNthOnYear:l}}),define("echarts/util/smartSteps",[],function(){function t(t){return w.log(S(t))/w.LN10}function e(t){return w.pow(10,t)}function i(t){return t===X(t)}function n(t,e,n,o){f=o||{},_=f.steps||L,b=f.secs||v,n=W(+n||0)%99,t=+t||0,e=+e||0,x=k=0,"min"in f&&(t=+f.min||0,x=1),"max"in f&&(e=+f.max||0,k=1),t>e&&(e=[t,t=e][0]);var a=e-t;if(x&&k)return y(t,e,n);if((n||5)>a){if(i(t)&&i(e))return p(t,e,n);if(0===a)return u(t,e,n)}return h(t,e,n)}function o(t,i,n,o){o=o||0;var r=a((i-t)/n,-1),l=a(t,-1,1),h=a(i,-1),d=w.min(r.e,l.e,h.e);0===l.c?d=w.min(r.e,h.e):0===h.c&&(d=w.min(r.e,l.e)),s(r,{c:0,e:d}),s(l,r,1),s(h,r),o+=d,t=l.c,i=h.c;for(var m=(i-t)/n,c=e(o),p=0,u=[],V=n+1;V--;)u[V]=(t+m*V)*c;if(0>o){p=g(c),m=+(m*c).toFixed(p),t=+(t*c).toFixed(p),i=+(i*c).toFixed(p);for(var V=u.length;V--;)u[V]=u[V].toFixed(p),0===+u[V]&&(u[V]="0")}else t*=c,i*=c,m*=c;return b=0,_=0,f=0,{min:t,max:i,secs:n,step:m,fix:p,exp:o,pnts:u}}function a(n,o,a){o=W(o%10)||2,0>o&&(i(n)?o=(""+S(n)).replace(/0+$/,"").length||1:(n=n.toFixed(15).replace(/0+$/,""),o=n.replace(".","").replace(/^[-0]+/,"").length,n=+n));var s=X(t(n))-o+1,r=+(n*e(-s)).toFixed(15)||0;return r=a?X(r):I(r),!r&&(s=0),(""+S(r)).length>o&&(s+=1,r/=10),{c:r,e:s}}function s(t,i,n){var o=i.e-t.e;o&&(t.e+=o,t.c*=e(-o),t.c=n?X(t.c):I(t.c))}function r(t,e,i){t.e<e.e?s(e,t,i):s(t,e,i)}function l(t,e){e=e||L,t=a(t);for(var i=t.c,n=0;i>e[n];)n++;if(!e[n])for(i/=10,t.e+=1,n=0;i>e[n];)n++;return t.c=e[n],t}function h(t,e,n){var r,h=n||+b.slice(-1),u=l((e-t)/h,_),g=a(e-t),y=a(t,-1,1),f=a(e,-1);if(s(g,u),s(y,u,1),s(f,u),n?r=m(y,f,h):h=d(y,f),i(t)&&i(e)&&t*e>=0){if(h>e-t)return p(t,e,h);h=c(t,e,n,y,f,h)}var L=V(t,e,y.c,f.c);return y.c=L[0],f.c=L[1],(x||k)&&U(t,e,y,f),o(y.c,f.c,h,f.e)}function d(t,i){for(var n,o,a,s,r=[],h=b.length;h--;)n=b[h],o=l((i.c-t.c)/n,_),o=o.c*e(o.e),a=X(t.c/o)*o,s=I(i.c/o)*o,r[h]={min:a,max:s,step:o,span:s-a};return r.sort(function(t,e){var i=t.span-e.span;return 0===i&&(i=t.step-e.step),i}),r=r[0],n=r.span/r.step,t.c=r.min,i.c=r.max,3>n?2*n:n}function m(t,i,n){for(var o,a,s=i.c,r=(i.c-t.c)/n-1;s>t.c;)r=l(r+1,_),r=r.c*e(r.e),o=r*n,a=I(i.c/r)*r,s=a-o;var h=t.c-s,d=a-i.c,m=h-d;return m>=2*r&&(m=X(m/r)*r,s+=m,a+=m),t.c=s,i.c=a,r}function c(t,n,o,a,s,r){var l=s.c-a.c,h=l/r*e(s.e);if(!i(h)&&(h=X(h),l=h*r,n-t>l&&(h+=1,l=h*r,!o&&h*(r-1)>=n-t&&(r-=1,l=h*r)),l>=n-t)){var d=l-(n-t);a.c=W(t-d/2),s.c=W(n+d/2),a.e=0,s.e=0}return r}function p(t,e,i){if(i=i||5,x)e=t+i;else if(k)t=e-i;else{var n=i-(e-t),a=W(t-n/2),s=W(e+n/2),r=V(t,e,a,s);t=r[0],e=r[1]}return o(t,e,i)}function u(t,e,i){i=i||5;var n=w.min(S(e/i),i)/2.1;return x?e=t+n:k?t=e-n:(t-=n,e+=n),h(t,e,i)}function V(t,e,i,n){return t>=0&&0>i?(n-=i,i=0):0>=e&&n>0&&(i-=n,n=0),[i,n]}function g(t){return t=(+t).toFixed(15).split("."),t.pop().replace(/0+$/,"").length}function U(t,e,i,n){if(x){var o=a(t,4,1);i.e-o.e>6&&(o={c:0,e:i.e}),r(i,o),r(n,o),n.c+=o.c-i.c,i.c=o.c}else if(k){var s=a(e,4);n.e-s.e>6&&(s={c:0,e:n.e}),r(i,s),r(n,s),i.c+=s.c-n.c,n.c=s.c}}function y(t,e,i){var n=i?[i]:b,r=e-t;if(0===r)return e=a(e,3),i=n[0],e.c=W(e.c+i/2),o(e.c-i,e.c,i,e.e);S(e/r)<1e-6&&(e=0),S(t/r)<1e-6&&(t=0);var l,h,d,m=[[5,10],[10,2],[50,10],[100,2]],c=[],p=[],u=a(e-t,3),V=a(t,-1,1),g=a(e,-1);s(V,u,1),s(g,u),r=g.c-V.c,u.c=r;for(var U=n.length;U--;){i=n[U],l=I(r/i),h=l*i-r,d=3*(h+3),d+=2*(i-n[0]+2),i%5===0&&(d-=10);for(var y=m.length;y--;)l%m[y][0]===0&&(d/=m[y][1]);p[U]=[i,l,h,d].join(),c[U]={secs:i,step:l,delta:h,score:d}}return c.sort(function(t,e){return t.score-e.score}),c=c[0],V.c=W(V.c-c.delta/2),g.c=W(g.c+c.delta/2),o(V.c,g.c,c.secs,u.e)}var f,_,b,x,k,L=[10,20,25,50],v=[4,5,6],w=Math,W=w.round,X=w.floor,I=w.ceil,S=w.abs;return n});