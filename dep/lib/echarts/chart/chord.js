define("echarts/chart/chord",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Sector","../util/shape/Ribbon","../util/shape/Icon","zrender/shape/BezierCurve","../config","../util/ecData","zrender/tool/util","zrender/tool/vector","../data/Graph","../layout/Chord","../chart"],function(t){"use strict";function e(t,e,n,a,o){i.call(this,t,e,n,a,o),this.scaleLineLength=4,this.scaleUnitAngle=4,this.refresh(a)}var i=t("./base"),n=t("zrender/shape/Text"),a=t("zrender/shape/Line"),o=t("zrender/shape/Sector"),s=t("../util/shape/Ribbon"),r=t("../util/shape/Icon"),h=t("zrender/shape/BezierCurve"),l=t("../config"),d=t("../util/ecData"),p=t("zrender/tool/util"),c=t("zrender/tool/vector"),m=t("../data/Graph"),u=t("../layout/Chord");return e.prototype={type:l.CHART_TYPE_CHORD,_init:function(){var t=this.series;this.selectedMap={};for(var e={},i={},n=0,a=t.length;a>n;n++)if(t[n].type===this.type){var o=this.isSelected(t[n].name);this.selectedMap[t[n].name]=o,o&&this.buildMark(n),this.reformOption(t[n]),e[t[n].name]=t[n]}for(var n=0,a=t.length;a>n;n++)if(t[n].type===this.type)if(t[n].insertToSerie){var s=e[t[n].insertToSerie];t[n]._referenceSerie=s}else i[t[n].name]=[t[n]];for(var n=0,a=t.length;a>n;n++)if(t[n].type===this.type&&t[n].insertToSerie){for(var r=t[n]._referenceSerie;r&&r._referenceSerie;)r=r._referenceSerie;i[r.name]&&this.selectedMap[t[n].name]&&i[r.name].push(t[n])}for(var h in i)this._buildChords(i[h]);this.addShapeList()},_getNodeCategory:function(t,e){return t.categories&&t.categories[e.category||0]},_getNodeQueryTarget:function(t,e){var i=this._getNodeCategory(t,e);return[e,i,t]},_getEdgeQueryTarget:function(t,e,i){return i=i||"normal",[e.itemStyle&&e.itemStyle[i],t.itemStyle[i].chordStyle]},_buildChords:function(t){for(var e=[],i=t[0],n=function(t){return t.layout.size>0},a=function(t){return function(e){return t.getEdge(e.node2,e.node1)}},o=0;o<t.length;o++){var s=t[o];if(this.selectedMap[s.name]){var r;s.data&&s.matrix?r=this._getSerieGraphFromDataMatrix(s,i):s.nodes&&s.links&&(r=this._getSerieGraphFromNodeLinks(s,i)),r.filterNode(n,this),s.ribbonType&&r.filterEdge(a(r)),e.push(r),r.__serie=s}}if(e.length){var h=e[0];if(!i.ribbonType){var l=i.minRadius,d=i.maxRadius,p=1/0,c=-1/0;h.eachNode(function(t){c=Math.max(t.layout.size,c),p=Math.min(t.layout.size,p)});var m=(d-l)/(c-p);h.eachNode(function(t){var e=this._getNodeQueryTarget(i,t),n=this.query(e,"symbolSize");t.layout.size=c===p?n||p:n||(t.layout.size-p)*m+l},this)}var g=new u;g.clockWise=i.clockWise,g.startAngle=i.startAngle*Math.PI/180,g.clockWise||(g.startAngle=-g.startAngle),g.padding=i.padding*Math.PI/180,g.sort=i.sort,g.sortSub=i.sortSub,g.directed=i.ribbonType,g.run(e);var y=this.query(i,"itemStyle.normal.label.show");if(i.ribbonType){this._buildSectors(i,0,h,i,e),y&&this._buildLabels(i,0,h,i,e);for(var o=0,f=0;o<t.length;o++)this.selectedMap[t[o].name]&&this._buildRibbons(t,o,e[f++],i);i.showScale&&this._buildScales(i,0,h)}else{this._buildNodeIcons(i,0,h,i,e),y&&this._buildLabels(i,0,h,i,e);for(var o=0,f=0;o<t.length;o++)this.selectedMap[t[o].name]&&this._buildEdgeCurves(t,o,e[f++],i,h)}this._initHoverHandler(t,e)}},_getSerieGraphFromDataMatrix:function(t,e){for(var i=[],n=0,a=[],o=0;o<t.matrix.length;o++)a[o]=t.matrix[o].slice();for(var s=t.data||t.nodes,o=0;o<s.length;o++){var r={},h=s[o];h.rawIndex=o;for(var l in h)"name"===l?r.id=h.name:r[l]=h[l];var d=this._getNodeCategory(e,h),p=d?d.name:h.name;if(this.selectedMap[p]=this.isSelected(p),this.selectedMap[p])i.push(r),n++;else{a.splice(n,1);for(var c=0;c<a.length;c++)a[c].splice(n,1)}}var u=m.fromMatrix(i,a,!0);return u.eachNode(function(t){t.layout={size:t.data.outValue},t.rawIndex=t.data.rawIndex}),u.eachEdge(function(t){t.layout={weight:t.data.weight}}),u},_getSerieGraphFromNodeLinks:function(t,e){for(var i=new m(!0),n=t.data||t.nodes,a=0,o=n.length;o>a;a++){var s=n[a];if(s&&!s.ignore){var r=this._getNodeCategory(e,s),h=r?r.name:s.name;if(this.selectedMap[h]=this.isSelected(h),this.selectedMap[h]){var l=i.addNode(s.name,s);l.rawIndex=a}}}for(var a=0,o=t.links.length;o>a;a++){var d=t.links[a],p=d.source,c=d.target;"number"==typeof p&&(p=n[p],p&&(p=p.name)),"number"==typeof c&&(c=n[c],c&&(c=c.name));var u=i.addEdge(p,c,d);u&&(u.rawIndex=a)}return i.eachNode(function(t){var i=t.data.value;if(null==i)if(i=0,e.ribbonType)for(var n=0;n<t.outEdges.length;n++)i+=t.outEdges[n].data.weight||0;else for(var n=0;n<t.edges.length;n++)i+=t.edges[n].data.weight||0;t.layout={size:i}}),i.eachEdge(function(t){t.layout={weight:null==t.data.weight?1:t.data.weight}}),i},_initHoverHandler:function(t,e){var i=t[0],n=e[0],a=this;n.eachNode(function(t){t.shape.onmouseover=function(){n.eachNode(function(t){t.shape.style.opacity=.1,t.labelShape&&(t.labelShape.style.opacity=.1,t.labelShape.modSelf()),t.shape.modSelf()});for(var i=0;i<e.length;i++)for(var o=0;o<e[i].edges.length;o++){var s=e[i].edges[o],r=a._getEdgeQueryTarget(e[i].__serie,s.data);s.shape.style.opacity=.1*a.deepQuery(r,"opacity"),s.shape.modSelf()}t.shape.style.opacity=1,t.labelShape&&(t.labelShape.style.opacity=1);for(var i=0;i<e.length;i++){var h=e[i].getNodeById(t.id);if(h)for(var o=0;o<h.outEdges.length;o++){var s=h.outEdges[o],r=a._getEdgeQueryTarget(e[i].__serie,s.data);s.shape.style.opacity=a.deepQuery(r,"opacity");var l=e[0].getNodeById(s.node2.id);l&&(l.shape&&(l.shape.style.opacity=1),l.labelShape&&(l.labelShape.style.opacity=1))}}a.zr.refreshNextFrame()},t.shape.onmouseout=function(){n.eachNode(function(t){t.shape.style.opacity=1,t.labelShape&&(t.labelShape.style.opacity=1,t.labelShape.modSelf()),t.shape.modSelf()});for(var t=0;t<e.length;t++)for(var o=0;o<e[t].edges.length;o++){var s=e[t].edges[o],r=[s.data,i];s.shape.style.opacity=a.deepQuery(r,"itemStyle.normal.chordStyle.opacity"),s.shape.modSelf()}a.zr.refreshNextFrame()}})},_buildSectors:function(t,e,i,n){var a=this.parseCenter(this.zr,n.center),s=this.parseRadius(this.zr,n.radius),r=n.clockWise,h=r?1:-1;i.eachNode(function(i){var l=this._getNodeCategory(n,i.data),p=this.getColor(l?l.name:i.id),c=i.layout.startAngle/Math.PI*180*h,m=i.layout.endAngle/Math.PI*180*h,u=new o({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:a[0],y:a[1],r0:s[0],r:s[1],startAngle:c,endAngle:m,brushType:"fill",opacity:1,color:p,clockWise:r},clickable:n.clickable,highlightStyle:{brushType:"fill"}});u.style.lineWidth=this.deepQuery([i.data,n],"itemStyle.normal.borderWidth"),u.highlightStyle.lineWidth=this.deepQuery([i.data,n],"itemStyle.emphasis.borderWidth"),u.style.strokeColor=this.deepQuery([i.data,n],"itemStyle.normal.borderColor"),u.highlightStyle.strokeColor=this.deepQuery([i.data,n],"itemStyle.emphasis.borderColor"),u.style.lineWidth>0&&(u.style.brushType="both"),u.highlightStyle.lineWidth>0&&(u.highlightStyle.brushType="both"),d.pack(u,t,e,i.data,i.rawIndex,i.id,i.category),this.shapeList.push(u),i.shape=u},this)},_buildNodeIcons:function(t,e,i,n){var a=this.parseCenter(this.zr,n.center),o=this.parseRadius(this.zr,n.radius),s=o[1];i.eachNode(function(i){var o=i.layout.startAngle,h=i.layout.endAngle,l=(o+h)/2,p=s*Math.cos(l),c=s*Math.sin(l),m=this._getNodeQueryTarget(n,i.data),u=this._getNodeCategory(n,i.data),g=this.deepQuery(m,"itemStyle.normal.color");g||(g=this.getColor(u?u.name:i.id));var y=new r({zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{x:-i.layout.size,y:-i.layout.size,width:2*i.layout.size,height:2*i.layout.size,iconType:this.deepQuery(m,"symbol"),color:g,brushType:"both",lineWidth:this.deepQuery(m,"itemStyle.normal.borderWidth"),strokeColor:this.deepQuery(m,"itemStyle.normal.borderColor")},highlightStyle:{color:this.deepQuery(m,"itemStyle.emphasis.color"),lineWidth:this.deepQuery(m,"itemStyle.emphasis.borderWidth"),strokeColor:this.deepQuery(m,"itemStyle.emphasis.borderColor")},clickable:n.clickable,position:[p+a[0],c+a[1]]});d.pack(y,t,e,i.data,i.rawIndex,i.id,i.category),this.shapeList.push(y),i.shape=y},this)},_buildLabels:function(t,e,i,a){var o=this.query(a,"itemStyle.normal.label.color"),s=this.query(a,"itemStyle.normal.label.rotate"),r=this.query(a,"itemStyle.normal.label.distance"),h=this.parseCenter(this.zr,a.center),l=this.parseRadius(this.zr,a.radius),d=a.clockWise,p=d?1:-1;i.eachNode(function(t){var e=t.layout.startAngle/Math.PI*180*p,i=t.layout.endAngle/Math.PI*180*p,d=(e*-p+i*-p)/2;d%=360,0>d&&(d+=360);var m=90>=d||d>=270;d=d*Math.PI/180;var u=[Math.cos(d),-Math.sin(d)],g=0;g=a.ribbonType?a.showScaleText?35+r:r:r+t.layout.size;var y=c.scale([],u,l[1]+g);c.add(y,y,h);var f={zlevel:this.getZlevelBase(),z:this.getZBase()+1,hoverable:!1,style:{text:null==t.data.label?t.id:t.data.label,textAlign:m?"left":"right",color:o||"#000000"}};s?(f.rotation=m?d:Math.PI+d,f.style.x=m?l[1]+g:-l[1]-g,f.style.y=0,f.position=h.slice()):(f.style.x=y[0],f.style.y=y[1]),f.style.textColor=this.deepQuery([t.data,a],"itemStyle.normal.label.textStyle.color")||"#fff",f.style.textFont=this.getFont(this.deepQuery([t.data,a],"itemStyle.normal.label.textStyle")),f=new n(f),this.shapeList.push(f),t.labelShape=f},this)},_buildRibbons:function(t,e,i,n){var a=t[e],o=this.parseCenter(this.zr,n.center),r=this.parseRadius(this.zr,n.radius);i.eachEdge(function(h,l){var p,c=i.getEdge(h.node2,h.node1);if(c&&!h.shape){if(c.shape)return void(h.shape=c.shape);var m=h.layout.startAngle/Math.PI*180,u=h.layout.endAngle/Math.PI*180,g=c.layout.startAngle/Math.PI*180,y=c.layout.endAngle/Math.PI*180;p=this.getColor(1===t.length?h.layout.weight<=c.layout.weight?h.node1.id:h.node2.id:a.name);var f,V,U=this._getEdgeQueryTarget(a,h.data),_=this._getEdgeQueryTarget(a,h.data,"emphasis"),b=new s({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:o[0],y:o[1],r:r[0],source0:m,source1:u,target0:g,target1:y,brushType:"both",opacity:this.deepQuery(U,"opacity"),color:p,lineWidth:this.deepQuery(U,"borderWidth"),strokeColor:this.deepQuery(U,"borderColor"),clockWise:n.clockWise},clickable:n.clickable,highlightStyle:{brushType:"both",opacity:this.deepQuery(_,"opacity"),lineWidth:this.deepQuery(_,"borderWidth"),strokeColor:this.deepQuery(_,"borderColor")}});h.layout.weight<=c.layout.weight?(f=c.node1,V=c.node2):(f=h.node1,V=h.node2),d.pack(b,a,e,h.data,null==h.rawIndex?l:h.rawIndex,h.data.name||f.id+"-"+V.id,f.id,V.id),this.shapeList.push(b),h.shape=b}},this)},_buildEdgeCurves:function(t,e,i,n,a){var o=t[e],s=this.parseCenter(this.zr,n.center);i.eachEdge(function(t,i){var n=a.getNodeById(t.node1.id),r=a.getNodeById(t.node2.id),l=n.shape,p=r.shape,c=this._getEdgeQueryTarget(o,t.data),m=this._getEdgeQueryTarget(o,t.data,"emphasis"),u=new h({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{xStart:l.position[0],yStart:l.position[1],xEnd:p.position[0],yEnd:p.position[1],cpX1:s[0],cpY1:s[1],lineWidth:this.deepQuery(c,"width"),strokeColor:this.deepQuery(c,"color"),opacity:this.deepQuery(c,"opacity")},highlightStyle:{lineWidth:this.deepQuery(m,"width"),strokeColor:this.deepQuery(m,"color"),opacity:this.deepQuery(m,"opacity")}});d.pack(u,o,e,t.data,null==t.rawIndex?i:t.rawIndex,t.data.name||t.node1.id+"-"+t.node2.id,t.node1.id,t.node2.id),this.shapeList.push(u),t.shape=u},this)},_buildScales:function(t,e,i){var o,s,r=t.clockWise,h=this.parseCenter(this.zr,t.center),l=this.parseRadius(this.zr,t.radius),d=r?1:-1,p=0,m=-1/0;t.showScaleText&&(i.eachNode(function(t){var e=t.data.value;e>m&&(m=e),p+=e}),m>1e10?(o="b",s=1e-9):m>1e7?(o="m",s=1e-6):m>1e4?(o="k",s=.001):(o="",s=1));var u=p/(360-t.padding);i.eachNode(function(e){for(var i=e.layout.startAngle/Math.PI*180,p=e.layout.endAngle/Math.PI*180,m=i;;){if(r&&m>p||!r&&p>m)break;var g=m/180*Math.PI,y=[Math.cos(g),Math.sin(g)],f=c.scale([],y,l[1]+1);c.add(f,f,h);var V=c.scale([],y,l[1]+this.scaleLineLength);c.add(V,V,h);var U=new a({zlevel:this.getZlevelBase(),z:this.getZBase()-1,hoverable:!1,style:{xStart:f[0],yStart:f[1],xEnd:V[0],yEnd:V[1],lineCap:"round",brushType:"stroke",strokeColor:"#666",lineWidth:1}});this.shapeList.push(U),m+=d*this.scaleUnitAngle}if(t.showScaleText)for(var _=i,b=5*u*this.scaleUnitAngle,x=0;;){if(r&&_>p||!r&&p>_)break;var g=_;g%=360,0>g&&(g+=360);var k=90>=g||g>=270,v=new n({zlevel:this.getZlevelBase(),z:this.getZBase()-1,hoverable:!1,style:{x:k?l[1]+this.scaleLineLength+4:-l[1]-this.scaleLineLength-4,y:0,text:Math.round(10*x)/10+o,textAlign:k?"left":"right"},position:h.slice(),rotation:k?[-g/180*Math.PI,0,0]:[-(g+180)/180*Math.PI,0,0]});this.shapeList.push(v),x+=b*s,_+=d*this.scaleUnitAngle*5}},this)},refresh:function(t){if(t&&(this.option=t,this.series=t.series),this.legend=this.component.legend,this.legend)this.getColor=function(t){return this.legend.getColor(t)},this.isSelected=function(t){return this.legend.isSelected(t)};else{var e={},i=0;this.getColor=function(t){return e[t]?e[t]:(e[t]||(e[t]=this.zr.getColor(i++)),e[t])},this.isSelected=function(){return!0}}this.backupShapeList(),this._init()},reformOption:function(t){var e=p.merge;t=e(t||{},this.ecTheme.chord),t.itemStyle.normal.label.textStyle=e(t.itemStyle.normal.label.textStyle||{},this.ecTheme.textStyle)}},p.inherits(e,i),t("../chart").define("chord",e),e}),define("echarts/util/shape/Ribbon",["require","zrender/shape/Base","zrender/shape/util/PathProxy","zrender/tool/util","zrender/tool/area"],function(t){function e(t){i.call(this,t),this._pathProxy=new n}var i=t("zrender/shape/Base"),n=t("zrender/shape/util/PathProxy"),a=t("zrender/tool/util"),o=t("zrender/tool/area");return e.prototype={type:"ribbon",buildPath:function(t,e){var i=e.clockWise||!1,n=this._pathProxy;n.begin(t);var a=e.x,o=e.y,s=e.r,r=e.source0/180*Math.PI,h=e.source1/180*Math.PI,l=e.target0/180*Math.PI,d=e.target1/180*Math.PI,p=a+Math.cos(r)*s,c=o+Math.sin(r)*s,m=a+Math.cos(h)*s,u=o+Math.sin(h)*s,g=a+Math.cos(l)*s,y=o+Math.sin(l)*s,f=a+Math.cos(d)*s,V=o+Math.sin(d)*s;n.moveTo(p,c),n.arc(a,o,e.r,r,h,!i),n.bezierCurveTo(.7*(a-m)+m,.7*(o-u)+u,.7*(a-g)+g,.7*(o-y)+y,g,y),(e.source0!==e.target0||e.source1!==e.target1)&&(n.arc(a,o,e.r,l,d,!i),n.bezierCurveTo(.7*(a-f)+f,.7*(o-V)+V,.7*(a-p)+p,.7*(o-c)+c,p,c))},getRect:function(t){return t.__rect?t.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,t),this._pathProxy.fastBoundingRect())},isCover:function(t,e){var i=this.getRect(this.style);return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height?o.isInsidePath(this._pathProxy.pathCommands,0,"fill",t,e):void 0}},a.inherits(e,i),e}),define("zrender/shape/BezierCurve",["require","./Base","../tool/util"],function(t){"use strict";var e=t("./Base"),i=function(t){this.brushTypeOnly="stroke",this.textPosition="end",e.call(this,t)};return i.prototype={type:"bezier-curve",buildPath:function(t,e){t.moveTo(e.xStart,e.yStart),"undefined"!=typeof e.cpX2&&"undefined"!=typeof e.cpY2?t.bezierCurveTo(e.cpX1,e.cpY1,e.cpX2,e.cpY2,e.xEnd,e.yEnd):t.quadraticCurveTo(e.cpX1,e.cpY1,e.xEnd,e.yEnd)},getRect:function(t){if(t.__rect)return t.__rect;var e=Math.min(t.xStart,t.xEnd,t.cpX1),i=Math.min(t.yStart,t.yEnd,t.cpY1),n=Math.max(t.xStart,t.xEnd,t.cpX1),a=Math.max(t.yStart,t.yEnd,t.cpY1),o=t.cpX2,s=t.cpY2;"undefined"!=typeof o&&"undefined"!=typeof s&&(e=Math.min(e,o),i=Math.min(i,s),n=Math.max(n,o),a=Math.max(a,s));var r=t.lineWidth||1;return t.__rect={x:e-r,y:i-r,width:n-e+r,height:a-i+r},t.__rect}},t("../tool/util").inherits(i,e),i}),define("echarts/data/Graph",["require","zrender/tool/util"],function(t){var e=t("zrender/tool/util"),i=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={}};i.prototype.isDirected=function(){return this._directed},i.prototype.addNode=function(t,e){if(this._nodesMap[t])return this._nodesMap[t];var n=new i.Node(t,e);return this.nodes.push(n),this._nodesMap[t]=n,n},i.prototype.getNodeById=function(t){return this._nodesMap[t]},i.prototype.addEdge=function(t,e,n){if("string"==typeof t&&(t=this._nodesMap[t]),"string"==typeof e&&(e=this._nodesMap[e]),t&&e){var a=t.id+"-"+e.id;if(this._edgesMap[a])return this._edgesMap[a];var o=new i.Edge(t,e,n);return this._directed&&(t.outEdges.push(o),e.inEdges.push(o)),t.edges.push(o),t!==e&&e.edges.push(o),this.edges.push(o),this._edgesMap[a]=o,o}},i.prototype.removeEdge=function(t){var i=t.node1,n=t.node2,a=i.id+"-"+n.id;this._directed&&(i.outEdges.splice(e.indexOf(i.outEdges,t),1),n.inEdges.splice(e.indexOf(n.inEdges,t),1)),i.edges.splice(e.indexOf(i.edges,t),1),i!==n&&n.edges.splice(e.indexOf(n.edges,t),1),delete this._edgesMap[a],this.edges.splice(e.indexOf(this.edges,t),1)},i.prototype.getEdge=function(t,e){return"string"!=typeof t&&(t=t.id),"string"!=typeof e&&(e=e.id),this._directed?this._edgesMap[t+"-"+e]:this._edgesMap[t+"-"+e]||this._edgesMap[e+"-"+t]},i.prototype.removeNode=function(t){if("string"!=typeof t||(t=this._nodesMap[t])){delete this._nodesMap[t.id],this.nodes.splice(e.indexOf(this.nodes,t),1);for(var i=0;i<this.edges.length;){var n=this.edges[i];n.node1===t||n.node2===t?this.removeEdge(n):i++}}},i.prototype.filterNode=function(t,e){for(var i=this.nodes.length,n=0;i>n;)t.call(e,this.nodes[n],n)?n++:(this.removeNode(this.nodes[n]),i--)},i.prototype.filterEdge=function(t,e){for(var i=this.edges.length,n=0;i>n;)t.call(e,this.edges[n],n)?n++:(this.removeEdge(this.edges[n]),i--)},i.prototype.eachNode=function(t,e){for(var i=this.nodes.length,n=0;i>n;n++)this.nodes[n]&&t.call(e,this.nodes[n],n)},i.prototype.eachEdge=function(t,e){for(var i=this.edges.length,n=0;i>n;n++)this.edges[n]&&t.call(e,this.edges[n],n)},i.prototype.clear=function(){this.nodes.length=0,this.edges.length=0,this._nodesMap={},this._edgesMap={}},i.prototype.breadthFirstTraverse=function(t,e,i,n){if("string"==typeof e&&(e=this._nodesMap[e]),e){var a="edges";"out"===i?a="outEdges":"in"===i&&(a="inEdges");for(var o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(n,e,null))for(var s=[e];s.length;)for(var r=s.shift(),h=r[a],o=0;o<h.length;o++){var l=h[o],d=l.node1===r?l.node2:l.node1;if(!d.__visited){if(t.call(d,d,r))return;s.push(d),d.__visited=!0}}}},i.prototype.clone=function(){for(var t=new i(this._directed),e=0;e<this.nodes.length;e++)t.addNode(this.nodes[e].id,this.nodes[e].data);for(var e=0;e<this.edges.length;e++){var n=this.edges[e];t.addEdge(n.node1.id,n.node2.id,n.data)}return t};var n=function(t,e){this.id=t,this.data=e||null,this.inEdges=[],this.outEdges=[],this.edges=[]};n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length};var a=function(t,e,i){this.node1=t,this.node2=e,this.data=i||null};return i.Node=n,i.Edge=a,i.fromMatrix=function(t,e,n){if(e&&e.length&&e[0].length===e.length&&t.length===e.length){for(var a=e.length,o=new i(n),s=0;a>s;s++){var r=o.addNode(t[s].id,t[s]);r.data.value=0,n&&(r.data.outValue=r.data.inValue=0)}for(var s=0;a>s;s++)for(var h=0;a>h;h++){var l=e[s][h];n&&(o.nodes[s].data.outValue+=l,o.nodes[h].data.inValue+=l),o.nodes[s].data.value+=l,o.nodes[h].data.value+=l}for(var s=0;a>s;s++)for(var h=s;a>h;h++){var l=e[s][h];if(0!==l){var d=o.nodes[s],p=o.nodes[h],c=o.addEdge(d,p,{});if(c.data.weight=l,s!==h&&n&&e[h][s]){var m=o.addEdge(p,d,{});m.data.weight=e[h][s]}}}return o}},i}),define("echarts/layout/Chord",["require"],function(){var t=function(t){t=t||{},this.sort=t.sort||null,this.sortSub=t.sortSub||null,this.padding=.05,this.startAngle=t.startAngle||0,this.clockWise=null==t.clockWise?!1:t.clockWise,this.center=t.center||[0,0],this.directed=!0};t.prototype.run=function(t){t instanceof Array||(t=[t]);var n=t.length;if(n){for(var a=t[0],o=a.nodes.length,s=[],r=0,h=0;o>h;h++){var l=a.nodes[h],d={size:0,subGroups:[],node:l};s.push(d);for(var p=0,c=0;c<t.length;c++){var m=t[c],u=m.getNodeById(l.id);if(u){d.size+=u.layout.size;for(var g=this.directed?u.outEdges:u.edges,y=0;y<g.length;y++){var f=g[y],V=f.layout.weight;d.subGroups.push({weight:V,edge:f,graph:m}),p+=V}}}r+=d.size;for(var U=d.size/p,y=0;y<d.subGroups.length;y++)d.subGroups[y].weight*=U;"ascending"===this.sortSub?d.subGroups.sort(e):"descending"===this.sort&&(d.subGroups.sort(e),d.subGroups.reverse())}"ascending"===this.sort?s.sort(i):"descending"===this.sort&&(s.sort(i),s.reverse());for(var U=(2*Math.PI-this.padding*o)/r,_=this.startAngle,b=this.clockWise?1:-1,h=0;o>h;h++){var d=s[h];d.node.layout.startAngle=_,d.node.layout.endAngle=_+b*d.size*U,d.node.layout.subGroups=[];for(var y=0;y<d.subGroups.length;y++){var x=d.subGroups[y];x.edge.layout.startAngle=_,_+=b*x.weight*U,x.edge.layout.endAngle=_}_=d.node.layout.endAngle+b*this.padding}}};var e=function(t,e){return t.weight-e.weight},i=function(t,e){return t.size-e.size};return t});